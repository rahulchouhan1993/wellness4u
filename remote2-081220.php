<?phpinclude ('classes/config.php');$action = stripslashes($_REQUEST['action']);$obj = new frontclass();if ($action == 'resendotp') {    $obj2 = new Profclass();    $response = array();    $email = $_REQUEST['email'] != '' ? $_REQUEST['email'] : '';    $string = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';    $string_shuffled = str_shuffle($string);    $otp = substr($string_shuffled, 1, 6);    $data = array();    $data['email'] = $email;    $data['otp'] = $otp;    $otp_flag = $obj2->reSendProfOTP($data);    if ($otp_flag) {        // $tdata_sms_otp = array();        // $tdata_sms_otp['email'] = $email;        // $tdata_sms_otp['sms_message'] = 'OTP for activating profile is: ' . $otp;        // $obj2->sendProfSMS($tdata_sms_otp);        $pro_user_id = $obj->getProUserId($data['email']);        $email = $obj->getProUserEmailById($pro_user_id);        $name = $obj->getProUserFullNameById($pro_user_id);        //update ample 13-07-20            $vendor_data = $obj->getVendorDetails($pro_user_id);            $tdata_sms = array();            $tdata_sms['mobile_no'] =$vendor_data['vendor_mobile'];                        $sms_mail_data =$obj->getEmailAutoresponderDetails('19');            $sms_msg = $sms_mail_data['email_ar_body'];            $sms_msg = str_ireplace("[[ADVISER_NAME]]", $name, $sms_msg);            $sms_msg = str_ireplace("[[ADVISER_EMAIL]]", $email, $sms_msg);            $sms_msg = str_ireplace("[[OTP]]", $otp, $sms_msg);            $sms_credential=$obj->get_SMS_credential($sms_mail_data['SMS_ID']);             $tdata_sms['SMS_USERNAME']=$sms_credential['SMS_USERNAME'];            $tdata_sms['SMS_PASSWORD']=$sms_credential['SMS_PASSWORD'];            $tdata_sms['SMS_SENDERID']=$sms_credential['SMS_SENDERID'];            $tdata_sms['SMS_URL']=$sms_credential['SMS_URL'];            $tdata_sms['sms_message'] = strip_tags($sms_msg); //add by ample 15-06-20            $obj->sendSMS($tdata_sms);        $response['msg'] = $obj->print_message(22); //'OTP send successfully on registered mobile please activate your profile using OTP ';        $response['status'] = 1;    }    echo json_encode(array($response));    exit(0);} elseif ($action == 'VerifyOTP') {    $obj2 = new Profclass();    $obj = new frontclass();    $data = array();    $data['email'] = $_REQUEST['email'];    $data['otp'] = $_REQUEST['otp'];    $otp_flag = $obj2->VerifyOTP($data);    if ($otp_flag) {        $pro_user_id = $obj->getProUserId($data['email']);        $email = $obj->getProUserEmailById($pro_user_id);        $name = $obj->getProUserFullNameById($pro_user_id);        $unique_id = $obj->getProUserUniqueId($pro_user_id);        //list($email_ar_subject,$email_ar_from_name,$email_ar_from_email,$email_ar_to_email,$email_ar_body) = getEmailAutoresponderDetails('4');        $mail_data = $obj->getEmailAutoresponderDetails('4');        // echo "<pre>";print_r($mail_data);echo "</pre>";        $to_email = $data['email'];        $from_email = $mail_data['email_ar_from_email'];        $from_name = $mail_data['email_ar_from_name'];        $subject = $mail_data['email_ar_subject'];        $message = $mail_data['email_ar_body'];        $message = str_ireplace("[[ADVISER_NAME]]", $name, $message);        $message = str_ireplace("[[ADVISER_EMAIL]]", $email, $message);        $message = str_ireplace("[[ADVISER_UNIQUE_ID]]", $unique_id, $message);        // echo "<pre>";print_r($message);echo "</pre>";        // exit;        $mail = new PHPMailer();        $mail->IsHTML(true);        $mail->Host = "batmobile.websitewelcome.com"; // SMTP server        $mail->From = $from_email;        $mail->FromName = $from_name;        $mail->AddAddress($to_email);        $mail->Subject = $subject;        $mail->Body = $message;        $mail->Send();        $mail->ClearAddresses();        //add by ample 13-07-20            $vendor_data = $obj->getVendorDetails($pro_user_id);            $tdata_sms = array();            $tdata_sms['mobile_no'] =$vendor_data['vendor_mobile'];                        $sms_mail_data =$obj->getEmailAutoresponderDetails('20');            $sms_msg = $sms_mail_data['email_ar_body'];            $sms_msg = str_ireplace("[[ADVISER_NAME]]", $name, $sms_msg);            $sms_msg = str_ireplace("[[ADVISER_EMAIL]]", $email, $sms_msg);            $sms_msg = str_ireplace("[[ADVISER_UNIQUE_ID]]", $unique_id, $sms_msg);            $sms_credential=$obj->get_SMS_credential($sms_mail_data['SMS_ID']);             $tdata_sms['SMS_USERNAME']=$sms_credential['SMS_USERNAME'];            $tdata_sms['SMS_PASSWORD']=$sms_credential['SMS_PASSWORD'];            $tdata_sms['SMS_SENDERID']=$sms_credential['SMS_SENDERID'];            $tdata_sms['SMS_URL']=$sms_credential['SMS_URL'];            $tdata_sms['sms_message'] = strip_tags($sms_msg); //add by ample 15-06-20            $obj->sendSMS($tdata_sms);        // <p><strong>Hi [[ADVISER_NAME]],</strong></p>        // <p>Congrats on becoming an wellness way 4U user. We\'re glad you\'ve decided to join all of us.</p>        // <p>Your Username is <strong>[[ADVISER_EMAIL]]</strong></p>        // <p>Your Unique Id is <strong>[[ADVISER_UNIQUE_ID]]</strong></p>        // <p>Best Regards</p>        // <p>www.wellnessway4u.com</p>        $response['msg'] = $obj->print_message(21); //'Your account activated successfully click link and start login in your profile <a href="wa_register.php" style="color:blue;">Login</a>';        $response['status'] = 1;    } else {        //echo 'Hiiiii';        $response['status'] = 0;        $response['msg'] = $obj->print_message(23);    }    echo json_encode(array($response));    exit(0);} elseif ($action == 'resenduserotp') {    $obj = new frontclass();    $response = array();    $email = $_REQUEST['email'] != '' ? $_REQUEST['email'] : '';    $string = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';    $string_shuffled = str_shuffle($string);    $otp = substr($string_shuffled, 1, 6);    $data = array();    $data['email'] = $email;    $data['otp'] = $otp;    $otp_flag = $obj->reSendUserOTP($data);    if ($otp_flag) {        // $user_data = $obj->getUserDetails($email);        // $tdata_sms_otp = array();        // $tdata_sms_otp['mobile_no'] = $user_data['mobile'];        // $tdata_sms_otp['sms_message'] = 'OTP for activating profile is: ' . $otp;        // $obj->sendSMS($tdata_sms_otp);        //update ample 13-07-20            $user_id = $obj->getUserId($email);            $user_data = $obj->getUserDetails($user_id);            $tdata_sms = array();            $tdata_sms['mobile_no'] =$user_data['mobile'];                        $sms_mail_data =$obj->getEmailAutoresponderDetails('17');            $sms_msg = $sms_mail_data['email_ar_body'];            $sms_msg = str_ireplace("[[USER_NAME]]", $user_data['name'], $sms_msg);            $sms_msg = str_ireplace("[[USER_EMAIL]]", $email, $sms_msg);            $sms_msg = str_ireplace("[[OTP]]", $otp, $sms_msg);            $sms_credential=$obj->get_SMS_credential($sms_mail_data['SMS_ID']);             $tdata_sms['SMS_USERNAME']=$sms_credential['SMS_USERNAME'];            $tdata_sms['SMS_PASSWORD']=$sms_credential['SMS_PASSWORD'];            $tdata_sms['SMS_SENDERID']=$sms_credential['SMS_SENDERID'];            $tdata_sms['SMS_URL']=$sms_credential['SMS_URL'];            $tdata_sms['sms_message'] = strip_tags($sms_msg); //add by ample 15-06-20            $obj->sendSMS($tdata_sms);        $response['msg'] = $obj->print_message(22); //'OTP send successfully on registered mobile please activate your profile using OTP ';        $response['status'] = 1;    }    echo json_encode(array($response));    exit(0);} elseif ($action == 'VerifyUserOTP') {    $obj = new frontclass();    $data = array();    $data['email'] = $_REQUEST['email'];    $data['otp'] = $_REQUEST['otp'];    $otp_flag = $obj->VerifyOTP($data);    if ($otp_flag) {        //$obj->SendUserWelcomeEmail();        $user_id = $obj->getUserId($data['email']);        $name = $obj->getUserFullNameById($user_id);        $unique_id = $obj->getUserUniqueId($user_id);        $email = $obj->getUserEmailById($user_id);        //list($email_ar_subject,$email_ar_from_name,$email_ar_from_email,$email_ar_to_email,$email_ar_body) = getEmailAutoresponderDetails('2');        $mail_data = $obj->getEmailAutoresponderDetails('2');        $to_email = $data['email'];        $from_email = $mail_data['email_ar_from_email'];        $from_name = $mail_data['email_ar_from_name'];        $subject = $mail_data['email_ar_subject'];        $message = $mail_data['email_ar_body'];        //  echo "<pre>";print_r($email);echo "<pre>";        // exit;        $message = str_ireplace("[[USER_NAME]]", $name, $message);        $message = str_ireplace("[[USER_EMAIL]]", $email, $message);        $message = str_ireplace("[[USER_UNIQUE_ID]]", $unique_id, $message);        $mail = new PHPMailer();        $mail->IsHTML(true);        $mail->Host = "batmobile.websitewelcome.com"; // SMTP server        $mail->From = $from_email;        $mail->FromName = $from_name;        $mail->AddAddress($to_email);        $mail->Subject = $subject;        $mail->Body = $message;        $mail->Send();        $mail->ClearAddresses();        //add by ample 13-07-20            $user_data = $obj->getUserDetails($user_id);            $tdata_sms = array();            $tdata_sms['mobile_no'] = $user_data['mobile'];                        $sms_mail_data =$obj->getEmailAutoresponderDetails('18');            $sms_msg = $sms_mail_data['email_ar_body'];            $sms_msg = str_ireplace("[[USER_NAME]]", $name, $sms_msg);            $sms_msg = str_ireplace("[[USER_EMAIL]]", $email, $sms_msg);            $sms_msg = str_ireplace("[[USER_UNIQUE_ID]]", $unique_id, $sms_msg);            $sms_credential=$obj->get_SMS_credential($sms_mail_data['SMS_ID']);             $tdata_sms['SMS_USERNAME']=$sms_credential['SMS_USERNAME'];            $tdata_sms['SMS_PASSWORD']=$sms_credential['SMS_PASSWORD'];            $tdata_sms['SMS_SENDERID']=$sms_credential['SMS_SENDERID'];            $tdata_sms['SMS_URL']=$sms_credential['SMS_URL'];            $tdata_sms['sms_message'] = strip_tags($sms_msg); //add by ample 15-06-20            $obj->sendSMS($tdata_sms);        $response['msg'] = $obj->print_message(20); //'Your account activated successfully click link and start login in your profile <a href="login.php">Login</a>';        $response['status'] = 1;    }    echo json_encode(array($response));    exit(0);} elseif ($action == 'geteventregistrationfees') {    //    print_r($_REQUEST);    //    die();    $event_id = $_REQUEST['event_id'];    $registration_type = $_REQUEST['registration_type'];    //    echo $event_id;    //    echo $registration_type;    if ($event_id != '' && $registration_type != '') {        //echo 'Hiii';        $obj = new frontclass();        $registraion_fees = $obj->GetEventRegistrationfess($event_id, $registration_type);        echo number_format($registraion_fees, 2);        exit(0);    }} elseif ($action == 'geteventticketfees') {    //    print_r($_REQUEST);    //    die();    $event_id = $_REQUEST['event_id'];    $ticket_type = $_REQUEST['ticket_type'];    //    echo $event_id;    //    echo $registration_type;    if ($event_id != '' && $ticket_type != '') {        //echo 'Hiii';        $obj = new frontclass();        $registraion_fees = $obj->GetEventTicketfess($event_id, $ticket_type);        echo number_format($registraion_fees, 2);        exit(0);    }} elseif ($action == 'geteventticketqty') {    $event_id = $_REQUEST['event_id'];    $ticket_type = $_REQUEST['ticket_type'];    if ($event_id != '' && $ticket_type != '') {        $obj = new frontclass();        $registraion_fees = $obj->GetEventTicketQty($event_id, $ticket_type);        echo $registraion_fees;        exit(0);    }} elseif ($action == 'addtocart') {    $error = 0;    $err_msg = '';    $event_id = '';    if (isset($_POST['event_id']) && trim($_POST['event_id']) != '') {        $event_id = trim($_POST['event_id']);    }    if (isset($_POST['event_name']) && trim($_POST['event_name']) != '') {        $event_name = trim($_POST['event_name']);    }    $qty = '';    if (isset($_POST['qty']) && trim($_POST['qty']) != '') {        $qty = trim($_POST['qty']);    }    $booking_slot = '';    if (isset($_POST['booking_slot']) && trim($_POST['booking_slot']) != '') {        $booking_slot = trim($_POST['booking_slot']);    } else {        $error = 1;        $err_msg = 'Please select Session';    }    // echo $booking_slot;    // exit;    $booking_date = '';    if (isset($_POST['booking_date']) && trim($_POST['booking_date']) != '') {        $booking_date = trim($_POST['booking_date']);    }    $type = '';    if (isset($_POST['type']) && trim($_POST['type']) != '') {        $type = trim($_POST['type']);    }    $registraion_type = '';    if (isset($_POST['registraion_type']) && trim($_POST['registraion_type']) != '') {        $registraion_type = trim($_POST['registraion_type']);    }    if ($event_id != '') {        if ($qty != '') {            if ($obj->chkIfTicketQtyAvailable($event_id, $qty, $type)) {                // echo "<pre>";print_r($obj->chkIfTicketQtyAvailable($event_id,$qty,$type));echo "</pre>";                if ($obj->addToCart($event_id, $qty, $booking_slot, $booking_date, $type, $registraion_type, $event_name)) {                    $obj->getqty($event_id, $qty, $booking_slot, $booking_date, $type, $registraion_type);                    $error = 0;                    $err_msg = 'Item added successfully';                } else {                    $error = 1;                    $err_msg = 'Something went wrong, Please try again later.';                }            } else {                $error = 1;                $err_msg = 'Sorry currently this quantity not available';            }        } else {            $error = 1;            $err_msg = 'Invalid quantity';        }    } else {        $error = 1;        $err_msg = 'Please select any item';    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    echo $ret_str;} elseif ($action == 'getAllDelaveyListOfItem') {    $event_id = '';    $cusine_name = '';    if (isset($_POST['event_id']) && trim($_POST['event_id']) != '') {        $event_id = trim($_POST['event_id']);        $cnt = 0; // $j ==cnt ;        $type = trim($_POST['type']);        $ename = trim($_POST['ename']);    }    $item_delavery = $obj->getAllDelaveryListOfItem($event_id);    // $order_cutoff_time is a refference data;    // echo "<pre>";print_r($item_delavery);echo "<pre>";    // exit;    //                echo '<pre>';    //                print_r($item_delavery);    //                echo '</pre>';    //        echo "<pre>";print_r($item_delavery);echo "<pre>";    // exit;    if (is_array($item_delavery) && count($item_delavery)) {        //   echo "<pre>";print_r($item_delavery);echo "<pre>";        // exit;        $now = time();        $next_delavery_date = array();        //                echo '<pre>';        //                print_r($item_delavery);        //                echo '</pre>';        // exit;        if ($item_delavery['registration_cutoff_time'] != '') {            $delaverydate_array = $item_delavery['delavery_date'];            for ($k = 0;$k < count($delaverydate_array);$k++) {                $cusine_delivery_date = $delaverydate_array[$k];                //                $date = date('Y-m-d', strtotime($cusine_delivery_date));                //$one_day_before_current_showing_date = date( 'Y-m-d', strtotime( $date . ' -1 day' ) );                //$current_showing_date_time = $current_showing_date. ' 23:59:59';                $one_day_before_current_showing_date = $date . ' ' . date("H:i:s");                //$current_showing_date_time = $one_day_before_current_showing_date. ' '.$date_data[0].':00';                //echo '<br>';                $current_showing_date_time = $one_day_before_current_showing_date;                $timestamp_csdt = strtotime($current_showing_date_time);                $sec_cuttoff_time = $item_delavery['registration_cutoff_time'] * 3600;                //$final_compared_timestamp = $timestamp_csdt - $sec_cuttoff_time;                $final_compared_timestamp = $timestamp_csdt - $sec_cuttoff_time;                if ($now < $final_compared_timestamp) {                    $next_delavery_date[] = $cusine_delivery_date;                }                // $next_delavery_date[]= $cusine_delivery_date;                            }        }    }    $req = '';    // echo "<pre>";print_r($next_delavery_date);echo "<pre>";    // exit;    if (is_array($next_delavery_date) && count($next_delavery_date) > 0) {        $cusine_id = $item_delavery['event_id'];        // <th >Qty</th>        //        $req = '<div class="table-responsive">                  <table class="table table-bordered">          <thead>            <tr>                        <th>Dates</th>';        if ($type == 'Registraion') {            $req.= '<th>Registraion Type</th>';        } else {            $req.= '<th>Registraion Type</th>';        }        $req.= ' <th>Slots</th>                                                              <th>Book</th>                 </tr>          </thead>        <tbody>';        for ($j = 0;$j < count($next_delavery_date);$j++) {            $slot = '';            $time = strtotime(date("H:i:s")) + ($item_delavery['registration_cutoff_time'] * 3600);            $slot_capare = date("Y-m-d") . ' ' . date("H:i:s", $time);            $slot_capare_final = strtotime($slot_capare);            $slot_1_time = explode(' ', $item_delavery['time_slot']['slot1_start_time']);            $slot_2_time = explode(' ', $item_delavery['time_slot']['slot2_start_time']);            $slot_3_time = explode(' ', $item_delavery['time_slot']['slot3_start_time']);            $slot_4_time = explode(' ', $item_delavery['time_slot']['slot4_start_time']);            $slot_5_time = explode(' ', $item_delavery['time_slot']['slot5_start_time']);            $slot_6_time = explode(' ', $item_delavery['time_slot']['slot6_start_time']);            $slot_1 = $next_delavery_date[$j] . ' ' . $slot_1_time[0] . ':00';            $slot_2 = $next_delavery_date[$j] . ' ' . $slot_2_time[0] . ':00';            $slot_3 = $next_delavery_date[$j] . ' ' . $slot_3_time[0] . ':00';            $slot_4 = $next_delavery_date[$j] . ' ' . $slot_4_time[0] . ':00';            $slot_5 = $next_delavery_date[$j] . ' ' . $slot_5_time[0] . ':00';            $slot_6 = $next_delavery_date[$j] . ' ' . $slot_6_time[0] . ':00';            $slot_1_campare = strtotime($slot_1);            $slot_2_campare = strtotime($slot_2);            $slot_3_campare = strtotime($slot_3);            $slot_4_campare = strtotime($slot_4);            $slot_5_campare = strtotime($slot_5);            $slot_6_campare = strtotime($slot_6);            if ($slot_1_campare > $slot_capare_final) {                $slot.= (($item_delavery['time_slot']['slot1_start_time'] & $item_delavery['time_slot']['slot1_end_time']) != '' ? '<option value="' . $item_delavery['time_slot']['slot1_start_time'] . ' TO ' . $item_delavery['time_slot']['slot1_end_time'] . '">' . $item_delavery['time_slot']['slot1_start_time'] . ' TO ' . $item_delavery['time_slot']['slot1_end_time'] . '</option>' : '');            }            if ($slot_2_campare > $slot_capare_final) {                $slot.= (($item_delavery['time_slot']['slot2_start_time'] & $item_delavery['time_slot']['slot2_end_time']) != '' ? '<option value="' . $item_delavery['time_slot']['slot2_start_time'] . ' TO ' . $item_delavery['time_slot']['slot2_end_time'] . '">' . $item_delavery['time_slot']['slot2_start_time'] . ' TO ' . $item_delavery['time_slot']['slot2_end_time'] . '</option>' : '');            }            if ($slot_3_campare > $slot_capare_final) {                $slot.= (($item_delavery['time_slot']['slot3_start_time'] & $item_delavery['time_slot']['slot3_end_time']) != '' ? '<option value="' . $item_delavery['time_slot']['slot3_start_time'] . ' TO ' . $item_delavery['time_slot']['slot3_end_time'] . '">' . $item_delavery['time_slot']['slot3_start_time'] . ' TO ' . $item_delavery['time_slot']['slot3_end_time'] . '</option>' : '');            }            if ($slot_4_campare > $slot_capare_final) {                $slot.= (($item_delavery['time_slot']['slot4_start_time'] & $item_delavery['time_slot']['slot4_end_time']) != '' ? '<option value="' . $item_delavery['time_slot']['slot4_start_time'] . ' TO ' . $item_delavery['time_slot']['slot4_end_time'] . '">' . $item_delavery['time_slot']['slot4_start_time'] . ' TO ' . $item_delavery['time_slot']['slot4_end_time'] . '</option>' : '');            }            if ($slot_5_campare > $slot_capare_final) {                $slot.= (($item_delavery['time_slot']['slot5_start_time'] & $item_delavery['time_slot']['slot5_end_time']) != '' ? '<option value="' . $item_delavery['time_slot']['slot5_start_time'] . ' TO ' . $item_delavery['time_slot']['slot5_end_time'] . '">' . $item_delavery['time_slot']['slot5_start_time'] . ' TO ' . $item_delavery['time_slot']['slot5_end_time'] . '</option>' : '');            }            if ($slot_6_campare > $slot_capare_final) {                $slot.= (($item_delavery['time_slot']['slot6_start_time'] & $item_delavery['time_slot']['slot6_end_time']) != '' ? '<option value="' . $item_delavery['time_slot']['slot6_start_time'] . ' TO ' . $item_delavery['time_slot']['slot6_end_time'] . '">' . $item_delavery['time_slot']['slot6_start_time'] . ' TO ' . $item_delavery['time_slot']['slot6_end_time'] . '</option>' : '');            }            $temp_showing_date = date('jS F', strtotime($next_delavery_date[$j]));            $temp_showing_day = date(' ( l ) ', strtotime($next_delavery_date[$j]));            $req.= '<tr>                                        <td>' . $temp_showing_date . '<span class="small_note">' . $temp_showing_day . '</td>';            if ($type == 'Registraion') {                $registration_type = $obj->GetEventRegistrationType($event_id);                $req.= '<td><select name="registraion_type_' . $j . '" id="registraion_type_' . $j . '" required="" class="form-control">                                            <option value="">Select Registration Type</option>' . $obj->GetRegistratiotypeoption($registration_type) . '</select></td>';            } else {                $book_type = $obj->GetEventbookingType($event_id);                $req.= '<td><select name="registraion_type_' . $j . '" id="registraion_type_' . $j . '" required="" class="form-control">                                            <option value="">Select Registration Type</option>' . $obj->GetRegistratiotypeoption($book_type) . '</select></td>';            }            $req.= '<td>           <input type="hidden" name="event_name_' . $j . '" id="event_name_' . $j . '" value="' . $ename . '">                   <select name="time_slot_' . $j . '" id="time_slot_' . $j . '" required="" class="form-control">                                        <option value="">Select sessions</option>' . $slot . '</select></td>';            $req.= '<td><button type="button" class="btn btn-success btn-xs" onclick="addToCart(' . $event_id . ',1,\'' . $type . '\',\'' . $next_delavery_date[$j] . '\',' . $j . ');">Book-Ticket</button></td>          </tr>';            // <td><input type="text" class="form-control" name="qty_'.$event_id.'" id="qty_'.$event_id.'" value="1" readonly></td>                    }        $req.= '<tr>                 <td  colspan="5">                 <a href="javascript:doCheckoutProceedToPayment()">                 <button class="btn_disabled_no_click dlvry_mg dlvry_clr" tabindex="0" style="float:right;" >Make Payment</button>                 </a>                 </td>               </tr>';    }    $ret_str = $req;    echo $ret_str;    // exit();    } elseif ($action == 'docheckoutproceedtopayment') {    //   echo "<pre>";print_r('hi');echo "</pre>";    // exit;    $error = 0;    $err_msg = '';    $url = '';    if ($obj->isLoggedIn()) {        // echo "<pre>";print_r($obj->chkIfCartEmpty());echo "</pre>";        // exit;        if ($obj->chkIfCartEmpty()) {            $error = 1;            $err_msg = 'Your cart is empty.';            // exit;                    } else {            $user_id = $_SESSION['user_id'];            if ($obj->chkValidUserId($user_id)) {                $invoice = $obj->genrateInvoiceNumber($user_id);                $cart_session_id = session_id();                $arr_user_detail = $obj->get_user_details($user_id);                $arr_cart_detail = $obj->getCartDetailsBySessId($cart_session_id); //check code                // echo "<pre>";print_r($arr_user_detail);echo "<pre>";                // echo "<pre>";print_r($arr_cart_detail);echo "<pre>";                // exit;                $obj->debuglog('[remote_createorder] arr_cart_detail:<pre>' . print_r($arr_cart_detail, 1) . '</pre>');                $tdata = array();                $tdata['invoice'] = $invoice;                $tdata['cart_session_id'] = $cart_session_id;                $tdata['order_status'] = 0;                $tdata['payment_status'] = 0;                $tdata['user_id'] = $user_id;                $tdata['user_name'] = $arr_user_detail['first_name'] . ' ' . $arr_user_detail['last_name'];                $tdata['user_email'] = $arr_user_detail['email'];                $tdata['user_mobile_no'] = $arr_user_detail['mobile'];                $tdata['user_building_name'] = $arr_user_detail['building_name'];                $tdata['user_floor_no'] = $arr_user_detail['floor_no'];                $tdata['user_landmark'] = $arr_user_detail['landmark'];                $tdata['user_address'] = $arr_user_detail['address'];                $tdata['user_country_id'] = $arr_user_detail['country_id'];                $tdata['user_country_name'] = $obj->getCountryName($arr_user_detail['country_id']);                $tdata['user_state_id'] = $arr_user_detail['state_id'];                $tdata['user_state_name'] = $obj->getStateName($arr_user_detail['state_id']);                $tdata['user_city_id'] = $arr_user_detail['city_id'];                $tdata['user_city_name'] = $obj->getCityName($arr_user_detail['city_id']);                $tdata['user_area_id'] = $arr_user_detail['area_id'];                $tdata['user_area_name'] = $obj->getAreaName($arr_user_detail['area_id']);                $tdata['user_delivery_mobile_no'] = $arr_user_detail['mobile'];                $tdata['user_pincode'] = $arr_user_detail['pincode'];                $tdata['billing_building_name'] = $arr_user_detail['billing_building_name'];                $tdata['billing_floor_no'] = $arr_user_detail['billing_floor_no'];                $tdata['billing_landmark'] = $arr_user_detail['billing_landmark'];                $tdata['billing_address'] = $arr_user_detail['billing_address'];                $tdata['billing_country_id'] = $arr_user_detail['billing_country_id'];                $tdata['billing_country_name'] = $obj->getCountryName($arr_user_detail['billing_country_id']);                $tdata['billing_state_id'] = $arr_user_detail['billing_state_id'];                $tdata['billing_state_name'] = $obj->getStateName($arr_user_detail['billing_state_id']);                $tdata['billing_city_id'] = $arr_user_detail['billing_city_id'];                $tdata['billing_city_name'] = $obj->getCityName($arr_user_detail['billing_city_id']);                $tdata['billing_area_id'] = $arr_user_detail['billing_area_id'];                $tdata['billing_area_name'] = $obj->getAreaName($arr_user_detail['billing_area_id']);                $tdata['billing_mobile_no'] = $arr_user_detail['billing_mobile_no'];                $tdata['billing_pincode'] = $arr_user_detail['billing_pincode'];                $tdata['order_subtotal'] = $arr_cart_detail['order_subtotal'];                $tdata['order_discount_coupon'] = $arr_cart_detail['order_discount_coupon'];                $tdata['order_trade_discount'] = $arr_cart_detail['order_trade_discount'];                $tdata['order_discount'] = $arr_cart_detail['order_discount'];                $tdata['order_discount_vendor_id'] = $arr_cart_detail['order_discount_vendor_id'];                $tdata['order_tax'] = $arr_cart_detail['order_tax'];                $tdata['order_shipping_amt'] = $arr_cart_detail['order_shipping_amt'];                $tdata['order_total_amt'] = $arr_cart_detail['order_total_amt'];                if ($arr_user_detail['delivery_name'] == '') {                    $arr_user_detail['delivery_name'] = $tdata['user_name'];                }                if ($arr_user_detail['billing_name'] == '') {                    $arr_user_detail['billing_name'] = $arr_user_detail['delivery_name'];                }                $tdata['delivery_name'] = $arr_user_detail['delivery_name'];                $tdata['billing_name'] = $arr_user_detail['billing_name'];                $tdata['order_cgst_tax_amount'] = $arr_cart_detail['order_cgst_tax_amount'];                $tdata['order_sgst_tax_amount'] = $arr_cart_detail['order_sgst_tax_amount'];                $tdata['order_cess_tax_amount'] = $arr_cart_detail['order_cess_tax_amount'];                $tdata['order_gst_tax_amount'] = $arr_cart_detail['order_gst_tax_amount'];                $tdata['cart'] = $arr_cart_detail['cart'];                // $obj = new frontclass();                if ($obj->createOrder($tdata)) {                    $error = 0;                    $url = SITE_URL . '/pay.php?ref=' . $invoice;                } else {                    $error = 1;                    $err_msg = 'Somthing went wrong. Please try again later';                }            } else {                $error = 1;                $err_msg = 'Invalid user.';            }        }    } else {        $error = 1;        $err_msg = 'Please login to continue.';    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg . '::::' . $url;    echo $ret_str;} elseif ($action == 'getstateoption') {    $country_id = trim($_REQUEST['country_id']);    $state_id = trim($_REQUEST['state_id']);    if (isset($_REQUEST['type'])) {        $type = trim($_REQUEST['type']);    } else {        $type = '';    }    if (isset($_REQUEST['multiple'])) {        $multiple = trim($_REQUEST['multiple']);    } else {        $multiple = '';    }    if ($multiple == '1') {        $arr_country_id = explode(',', $country_id);        $arr_state_id = explode(',', $state_id);    } else {        $arr_country_id = $country_id;        $arr_state_id = $state_id;    }    $data = $obj->getStateOption($arr_country_id, $arr_state_id, $type, $multiple);    echo $data;} elseif ($action == 'getcityoption') {    $country_id = trim($_REQUEST['country_id']);    $state_id = trim($_REQUEST['state_id']);    $city_id = trim($_REQUEST['city_id']);    if (isset($_REQUEST['type'])) {        $type = trim($_REQUEST['type']);    } else {        $type = '';    }    if (isset($_REQUEST['multiple'])) {        $multiple = trim($_REQUEST['multiple']);    } else {        $multiple = '';    }    if ($multiple == '1') {        $arr_country_id = explode(',', $country_id);        $arr_state_id = explode(',', $state_id);        $arr_city_id = explode(',', $city_id);    } else {        $arr_country_id = $country_id;        $arr_state_id = $state_id;        $arr_city_id = $city_id;    }    $data = $obj->getCityOption($arr_country_id, $arr_state_id, $arr_city_id, $type, $multiple);    echo $data;} elseif ($action == 'getareaoption') {    $country_id = trim($_REQUEST['country_id']);    $state_id = trim($_REQUEST['state_id']);    $city_id = trim($_REQUEST['city_id']);    $area_id = trim($_REQUEST['area_id']);    if (isset($_REQUEST['type'])) {        $type = trim($_REQUEST['type']);    } else {        $type = '';    }    if (isset($_REQUEST['multiple'])) {        $multiple = trim($_REQUEST['multiple']);    } else {        $multiple = '';    }    if ($multiple == '1') {        $arr_country_id = explode(',', $country_id);        $arr_state_id = explode(',', $state_id);        $arr_city_id = explode(',', $city_id);        $arr_area_id = explode(',', $area_id);    } else {        $arr_country_id = $country_id;        $arr_state_id = $state_id;        $arr_city_id = $city_id;        $arr_area_id = $area_id;    }    $data = $obj->getAreaOption($arr_country_id, $arr_state_id, $arr_city_id, $arr_area_id, $type, $multiple);    echo $data;} elseif ($action == 'getlocation') {    $response = array();    $signup_city = $_REQUEST['city'] != '' ? $_REQUEST['city'] : '';    $city_id = $obj->getCityIdbyName($signup_city);    if ($city_id != '') {        $response['place_option'] = $obj->getPlaceOptions($city_id);        $response['error'] = 0;    }    echo json_encode(array($response));    exit(0);} else if ($action == 'getbescomment') {    $besname = $_REQUEST['bms_name'];    $table = $_REQUEST['fetch_link'];    $sub_cat3 = $_REQUEST['sub_cat3'];    $tabl2 = $_REQUEST['fetch_link_2'];    $sub_cat4 = $_REQUEST['sub_cat4'];    $final_table = $table . ',' . $tabl2;    $final_cat = $sub_cat3 . ',' . $sub_cat4;    $final_table = trim($final_table, ',');    $final_cat = trim($final_cat, ',');    $final_table = explode(',', $final_table);    $final_cat = explode(',', $final_cat);    $comment = $obj->getCommentByBesnameDesign($besname, $final_table, $final_cat);    //       echo '<pre>';    //       print_r($final_table);    //       echo '</pre>';    //    //        echo '<pre>';    //       print_r($final_cat);    //       echo '</pre>';    echo $comment;    exit(0);}if ($action == 'changtheammdt') {    $theam_id = stripslashes($_REQUEST['theam_id']);    $_SESSION['mdttheam_id'] = $theam_id;    $response = array();    list($image, $color_code) = $obj->getTheamDetailsMDT($theam_id);    $output = $image . '::' . $color_code;    $response['image'] = $image;    $response['color_code'] = $color_code;    $response['error'] = 0;    echo json_encode(array($response));    exit(0);} else if ($action == 'ChangeTheMusic') {    $obj2 = new frontclass2();    $music_id1 = $_REQUEST['music_id1'];    $music = $obj2->getMusicNameByid($music_id1);    echo $option.= '<audio autoplay loop>        <source src="uploads/' . $music . '" />         <source src="uploads/' . $music . '" />         </audio>';    exit(0);} else if ($action == 'ChangeTheAvatar') {    $obj2 = new frontclass2();    $avat_id = $_REQUEST['avat_id'];    $image = $obj2->getAvatarNameByid($avat_id);    if($image)    {        echo $option.= '<img src="uploads/' . stripslashes($image) . '" height="50px;" width="50px;" title="My Today\'s Mascot">';    }    else    {        echo $option.='';    }        exit(0);} else if ($action == 'getmydesignlifedata') {    $day_month_year = date("Y-m-d");    // $sub_cat_id = $_REQUEST['sub_cat_id'];    // $ref_code= $_REQUEST['ref_code'];    // $get_design_data = $obj->GETDesignData($sub_cat_id, $day_month_year);    //change by ample 28-10-20    $design_id = $_REQUEST['design_id'];    $get_design_data[] = $obj->GetDesignYourLifeData($design_id);    $access_btn=$obj->check_user_subcription_plan_status('127'); //added by ample 04-12-20    $outputstr = '';    $tr_days_of_month = 'none';    $tr_single_date = 'none';    $tr_date_range = 'none';    $tr_month_date = 'none';    $tr_days_of_week = 'none';    if (count($get_design_data) > 0) {        for ($j = 0;$j < count($get_design_data);$j++) {            //            echo $j;            //            echo '<br>';            //$ref_num = $obj->GetRefNumer($sub_cat_id);            $_SESSION["ref_cde"] = $get_design_data[$j]['ref_code'];            $design_my_life_data = $obj->GetDesignMyLifeDatabyRef($get_design_data[$j]['ref_code']);            $header_data = $obj->GetHeaderDatabyPageKR($get_design_data[$j]['ref_code']);                        $design_my_life_data['special_data'] = $obj->GetDesignMyLifeSpecialData($design_my_life_data['id']); //add by ample 28-05-20            $profile_category = $obj->GetProfilecatname($design_my_life_data['prof_cat_id']);            $sub_cat_option = $obj->getSubCatOptions($design_my_life_data['prof_cat_id'], $design_my_life_data['sub_cat_id']);            $fav_category_name=$obj->getFavCategoryNameRamakant($design_my_life_data['sub_cat_id']); //add by ample            $narration = $design_my_life_data['narration'];            $data_dropdown = $obj->GETDATADROPDOWNMYDAYTODAYOPTION($design_my_life_data['data_category'], '127');            $show_cat = '';            $fetch_cat1 = array();            $fetch_cat2 = array();            $fetch_cat3 = array();            $fetch_cat4 = array();            $fetch_cat5 = array();            $fetch_cat6 = array();            $fetch_cat7 = array();            $fetch_cat8 = array();            $fetch_cat9 = array();            $fetch_cat10 = array();            if ($data_dropdown[0]['sub_cat1'] != '') {                if ($data_dropdown[0]['canv_sub_cat1_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat1'] . ',';                } else {                    //change by ample 07-05-20                    $sub_cat1 = explode(',', $data_dropdown[0]['sub_cat1']);                    $fetch_cat1=$obj->getDataFromReportCustomized($sub_cat1,$data_dropdown[0]['canv_sub_cat1_link'],$data_dropdown[0]['prof_cat1_ref_code'],$data_dropdown[0]['prof_cat1_uid']);                    //$fetch_cat1 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat1_link'], $data_dropdown[0]['sub_cat1']);                }            }            if ($data_dropdown[0]['sub_cat2'] != '') {                if ($data_dropdown[0]['canv_sub_cat2_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat2'] . ',';                } else {                        $sub_cat2 = explode(',', $data_dropdown[0]['sub_cat2']);                        $fetch_cat2=$obj->getDataFromReportCustomized($sub_cat2,$data_dropdown[0]['canv_sub_cat2_link'],$data_dropdown[0]['prof_cat2_ref_code'],$data_dropdown[0]['prof_cat2_uid']);                    //$fetch_cat2 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat2_link'], $data_dropdown[0]['sub_cat2']);                }            }            if ($data_dropdown[0]['sub_cat3'] != '') {                if ($data_dropdown[0]['canv_sub_cat3_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat3'] . ',';                } else {                        $sub_cat3 = explode(',', $data_dropdown[0]['sub_cat3']);                        $fetch_cat3=$obj->getDataFromReportCustomized($sub_cat3,$data_dropdown[0]['canv_sub_cat3_link'],$data_dropdown[0]['prof_cat3_ref_code'],$data_dropdown[0]['prof_cat3_uid']);                    //$fetch_cat3 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat3_link'], $data_dropdown[0]['sub_cat3']);                }            }            if ($data_dropdown[0]['sub_cat4'] != '') {                if ($data_dropdown[0]['canv_sub_cat4_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat4'] . ',';                } else {                        $sub_cat4 = explode(',', $data_dropdown[0]['sub_cat4']);                        $fetch_cat4=$obj->getDataFromReportCustomized($sub_cat4,$data_dropdown[0]['canv_sub_cat4_link'],$data_dropdown[0]['prof_cat4_ref_code'],$data_dropdown[0]['prof_cat4_uid']);                    //$fetch_cat4 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat4_link'], $data_dropdown[0]['sub_cat4']);                }            }            if ($data_dropdown[0]['sub_cat5'] != '') {                if ($data_dropdown[0]['canv_sub_cat5_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat5'] . ',';                } else {                        $sub_cat5 = explode(',', $data_dropdown[0]['sub_cat5']);                        $fetch_cat5=$obj->getDataFromReportCustomized($sub_cat5,$data_dropdown[0]['canv_sub_cat5_link'],$data_dropdown[0]['prof_cat5_ref_code'],$data_dropdown[0]['prof_cat5_uid']);                    //$fetch_cat5 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat5_link'], $data_dropdown[0]['sub_cat5']);                }            }            if ($data_dropdown[0]['sub_cat6'] != '') {                if ($data_dropdown[0]['canv_sub_cat6_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat6'] . ',';                } else {                        $sub_cat6 = explode(',', $data_dropdown[0]['sub_cat6']);                        $fetch_cat6=$obj->getDataFromReportCustomized($sub_cat6,$data_dropdown[0]['canv_sub_cat6_link'],$data_dropdown[0]['prof_cat6_ref_code'],$data_dropdown[0]['prof_cat6_uid']);                    //$fetch_cat6 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat6_link'], $data_dropdown[0]['sub_cat6']);                }            }            if ($data_dropdown[0]['sub_cat7'] != '') {                if ($data_dropdown[0]['canv_sub_cat7_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat7'] . ',';                } else {                    $sub_cat7 = explode(',', $data_dropdown[0]['sub_cat7']);                    $fetch_cat7=$obj->getDataFromReportCustomized($sub_cat7,$data_dropdown[0]['canv_sub_cat7_link'],$data_dropdown[0]['prof_cat7_ref_code'],$data_dropdown[0]['prof_cat7_uid']);                    //$fetch_cat7 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat7_link'], $data_dropdown[0]['sub_cat7']);                }            }            if ($data_dropdown[0]['sub_cat8'] != '') {                if ($data_dropdown[0]['canv_sub_cat8_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat8'] . ',';                } else {                        $sub_cat8 = explode(',', $data_dropdown[0]['sub_cat8']);                        $fetch_cat8=$obj->getDataFromReportCustomized($sub_cat8,$data_dropdown[0]['canv_sub_cat8_link'],$data_dropdown[0]['prof_cat8_ref_code'],$data_dropdown[0]['prof_cat8_uid']);                    //$fetch_cat8 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat8_link'], $data_dropdown[0]['sub_cat8']);                }            }            if ($data_dropdown[0]['sub_cat9'] != '') {                if ($data_dropdown[0]['canv_sub_cat9_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat9'] . ',';                } else {                        $sub_cat9 = explode(',', $data_dropdown[0]['sub_cat9']);                        $fetch_cat9=$obj->getDataFromReportCustomized($sub_cat9,$data_dropdown[0]['canv_sub_cat9_link'],$data_dropdown[0]['prof_cat9_ref_code'],$data_dropdown[0]['prof_cat9_uid']);                    //$fetch_cat9 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat9_link'], $data_dropdown[0]['sub_cat9']);                }            }            if ($data_dropdown[0]['sub_cat10'] != '') {                if ($data_dropdown[0]['canv_sub_cat10_show_fetch'] == 1) {                    $show_cat.= $data_dropdown[0]['sub_cat10'] . ',';                } else {                            $sub_cat10 = explode(',', $data_dropdown[0]['sub_cat10']);                            $fetch_cat10=$obj->getDataFromReportCustomized($sub_cat10,$data_dropdown[0]['canv_sub_cat10_link'],$data_dropdown[0]['prof_cat10_ref_code'],$data_dropdown[0]['prof_cat10_uid']);                    //$fetch_cat10 = $obj->GetFecthDataDesign($data_dropdown[0]['canv_sub_cat10_link'], $data_dropdown[0]['sub_cat10']);                }            }            $show_cat = explode(',', $show_cat);            $show_cat = array_filter($show_cat);            $final_array = array_merge($fetch_cat1, $fetch_cat2, $fetch_cat3, $fetch_cat4, $fetch_cat5, $fetch_cat6, $fetch_cat7, $fetch_cat8, $fetch_cat9, $fetch_cat10);            $final_dropdown = $obj->CreateDesignLifeDropdownEdit($show_cat, $final_array, $design_data['box_title']);            $tr_days_of_month = 'none';            $tr_single_date = 'none';            $tr_date_range = 'none';            $tr_month_date = 'none';            $tr_days_of_week = 'none';            //$outputstr='';            //update ample 22-04-20 (time/note/duration/unit)             //add by ample 12-02-20            $banner_data=$obj->getBannersDYL($design_my_life_data['id']);            $setting=$obj->getScrollingWindowsData($design_my_life_data['SW_id']);            $banner_html='';            if(count($banner_data)>0)               {                   $banner_html.= '<div class="row">                           <div class="col-md-12">                              <!-- Controls -->                              <div class="controls pull-right hidden-xs">                                 <a class="left fa fa-chevron-left btn btn" href="#carousel-example"                                    data-slide="prev"></a><a class="right fa fa-chevron-right btn" href="#carousel-example"                                    data-slide="next"></a>                              </div>                           </div>                        </div>                <div id="carousel-example" class="carousel slide hidden-xs" data-interval="false" >                    <!-- Wrapper for slides -->                    <div class="carousel-inner">                       <!-- active lisitng start -->                       <div class="item active">                          <div class="row">';                            $event_count = count($banner_data);                            $loop_count = min(array("$event_count","2"));                            for($j=0;$j<$loop_count;$j++) {                                      $img=$file=$data=$title=$desc=$credit=$credit_url="";                                    if($banner_data[$j]['banner_type']=='Image')                                    {                                        $imgData=$obj->getImgData($banner_data[$j]['banner']);                                        if(!empty($imgData['image']))                                        {                                            $data='<img src="'.SITE_URL.'/uploads/'.$imgData['image'].'" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" />';                                        }                                          else                                        {                                             $data='<img src="images/no-image.png" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" />';                                        }                                        $title=$imgData['icons_name'];                                        $desc=$imgData['comment'];                                        $credit=$imgData['credit'];                                        $credit_url=$imgData['credit_url'];                                    }                                    else                                    {                                           $fileData=$obj->getFileData($banner_data[$j]['banner']);                                        if($banner_data[$j]['banner_type']=='Video')                                        {                                            $data='<iframe width="275px" height="175px" src="'.$fileData["box_banner"].'" frameborder="0" allowfullscreen></iframe>';                                        }                                        else if($banner_data[$j]['banner_type']=='Sound' || $banner_data[$j]['banner_type']=='Audio')                                        {                                            $data='<embed src="'.SITE_URL.'/uploads/'.$fileData["box_banner"].'" autostart="true" loop="true" height="175px" width="275px"></embed>';                                        }                                        else if($banner_data[$m]['banner_type']=='Pdf')                                        {                                            $data='<a href="uploads/'.$fileData['box_banner'].'" target="_blank"><img src="images/pdf-icon.png" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" /></a>';                                        }                                        else                                        {                                            $data='<img src="images/no-image.png" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" />';                                        }                                        $title=$imgData['box_title'];                                        $desc=$imgData['box_desc'];                                        $credit=$imgData['credit_line'];                                        $credit_url=$imgData['credit_line_url'];                                    }                                                                             $banner_html.= '<div class="col-sm-6">                                <div class="col-item">                                   <div class="photo text-center">';                                        $banner_html.=  $data ;                                        $banner_html.= '</div>                                   <div class="info">                                     <div class="clear-left">                                        <p style="font-size: 13px;">                                           '.($title).'<br>'.$desc.'                                          </a>                                        </p>                                     </div>';                                      if($credit)                                       {                                        $banner_html.='<div class="clear-left" style="border-top: 1px solid #eee;">                                            <p style="font-size: 10px;margin: 0;margin-top: 5px;">                                                <a href="'.$credit_url.'" target="_blank">'.$credit.'</a>                                            </p>                                         </div>';                                        }                                     $banner_html.='<div class="clearfix">                                     </div>';                                     if($file)                                       {                                        $banner_html.='<div class="text-center"><a href="'.$file.'" target="_blank" class="btn btn-default btn-sm" style="min-width: 75px;height: 25px;font-size: 10px;">View '.$banner_data[$j]['banner_type'].'</a></div>';                                       }                                  $banner_html.='</div>                                </div>                             </div>';                            }                          $banner_html.= '</div>                       </div>                       <!-- Active Listing Close -->                       <!-- hidden Listing start -->';                   $loop_count_top = count($banner_data)-2 ;                   $loop_count_top_counter = ceil($loop_count_top/2);                   for($l=0;$l<$loop_count_top_counter;$l++)                   {                        $banner_html.= '<div class="item">                            <div class="row">';                        static $m =2;                        $loop_count2 = count($banner_data)-($m+1) ;                        $loop_count_child = min(array("$loop_count2","1"));                        for($k=0;$k<=$loop_count_child;$k++)                         {                             $img=$file=$data=$title=$desc=$credit=$credit_url="";                                    if($banner_data[$m]['banner_type']=='Image')                                    {                                        $imgData=$obj->getImgData($banner_data[$m]['banner']);                                        if(!empty($imgData['image']))                                        {                                            $data='<img src="'.SITE_URL.'/uploads/'.$imgData['image'].'" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" />';                                        }                                          else                                        {                                             $data='<img src="images/no-image.png" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" />';                                        }                                        $title=$imgData['icons_name'];                                        $desc=$imgData['comment'];                                        $credit=$imgData['credit'];                                        $credit_url=$imgData['credit_url'];                                    }                                    else                                    {                                           $fileData=$obj->getFileData($banner_data[$m]['banner']);                                        if($banner_data[$m]['banner_type']=='Video')                                        {                                            $data='<iframe width="275px" height="175px" src="'.$fileData["box_banner"].'" frameborder="0" allowfullscreen></iframe>';                                        }                                        else if($banner_data[$m]['banner_type']=='Sound' || $banner_data[$m]['banner_type']=='Audio')                                        {                                            $data='<embed src="'.SITE_URL.'/uploads/'.$fileData["box_banner"].'" autostart="true" loop="true" height="175px" width="275px"></embed>';                                        }                                        else if($banner_data[$m]['banner_type']=='Pdf')                                        {                                            $data='<a href="uploads/'.$fileData['box_banner'].'" target="_blank"><img src="images/pdf-icon.png" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" /></a>';                                        }                                        else                                        {                                            $data='<img src="images/no-image.png" style="width:300px; height: 175px;object-fit: contain;" class="img-responsive" alt="" />';                                        }                                        $title=$fileData['box_title'];                                        $desc=$fileData['box_desc'];                                        $credit=$fileData['credit_line'];                                        $credit_url=$fileData['credit_line_url'];                                    }                            $banner_html.= '<div class="col-sm-6">                                <div class="col-item">                                   <div class="photo text-center">';                                      $banner_html.=  $data ;                                      $banner_html.= '</div>                                   <div class="info">                                     <div class="clear-left">                                        <p style="font-size: 13px;">                                           '.($title).'<br>'.$desc.'                                          </a>                                        </p>                                     </div>';                                     if($credit)                                       {                                        $banner_html.='<div class="clear-left" style="border-top: 1px solid #eee;">                                            <p style="font-size: 10px;margin: 0;margin-top: 5px;">                                                <a href="'.$credit_url.'" target="_blank">'.$credit.'</a>                                            </p>                                         </div>';                                        }                                     $banner_html.='<div class="clearfix">                                     </div>';                                  $banner_html.='</div>                                </div>                             </div>';                             $m++;                        }                                                   $banner_html.=' </div>                        </div>';                   }                      $banner_html.=' <!-- hidden Listing close -->                    </div>                 </div> <br>';            }                         $outputstr.= '<div class="" style="background: #'.$setting['sw_footer_bg_color'].';color: #'.$setting['sw_footer_font_color'].'; font-family: '.$setting['sw_footer_font_family'].'; font-size: '.$setting['sw_footer_font_size'].'px;padding: 7.5px;margin-top: 7.5px;">';                    if ($design_my_life_data['show_to_user'] == '2') {                 $outputstr.= '<h3 class="text-center Header_brown" style="background: #'.$setting["sw_header_bg_color"].';color: #'.$setting["sw_header_font_color"].'; font-family: '.$setting["sw_header_font_family"].'; font-size: '.$setting["sw_header_font_size"].'px;padding: 2.5px;">' . $design_my_life_data['box_title'] . '</h3>';            }                                        $outputstr.= '<form name="design_life_data" id="design_life_data" method="post">                                      <input type="hidden" id="ref_c" value="' . $get_design_data[$j]['ref_code'] . '">                                      <br>';                                    if(!empty(trim($design_my_life_data['prof_cat1_heading'])))                                    {                                        $outputstr.= '<h6 class="Header_brown" style="background: #'.$setting["sw_header_bg_color"].';color: #'.$setting["sw_header_font_color"].'; font-family: '.$setting["sw_header_font_family"].'; font-size: '.$setting["sw_header_font_size"].'px;padding: 2.5px;">'.$design_my_life_data['level_heading'].'</h6>';                                    }                                    else                                    {                                        $outputstr.= '<h6 class="Header_brown" style="background: #'.$setting["sw_header_bg_color"].';color: #'.$setting["sw_header_font_color"].'; font-family: '.$setting["sw_header_font_family"].'; font-size: '.$setting["sw_header_font_size"].'px;padding: 2.5px;">'.$fav_category_name.'</h6>';                                    }                $outputstr.= '<div class="">';            if ($narration != '' && $design_my_life_data['narration_show'] == 1) {                $outputstr.= '<br><br><span class="">' . $narration . '</span>                             <br><br>';            }            if ($design_my_life_data['show_to_user'] == '1') {                $outputstr.= '<span>                                <input type="text" ' . $required . ' name="title_id" id="title_id" placeholder="Make your choice" list="capitals" class="input-text-box dlist" style="width:535px;" autocomplete="off" />                               <datalist id="capitals" class="dlist" style="">                                    ' . $final_dropdown . '                                  </datalist>                             </span>                             <br>                             <span id="message" style="color:blue; font-size: 10px;">(Type 4 letters and select keyword option)</span>';            }             elseif($design_my_life_data['show_to_user'] == '3'){                    $outputstr.= ' <br><span>                                <input type="text" ' . $required . ' name="title_id" id="title_id" placeholder="'.$design_my_life_data['level_title'].'" class="input-text-box" style="width:535px;" autocomplete="off" /> ';                                if($design_my_life_data['example_box'] == '1')                                {                                    $outputstr.= '<a href="javascript:void(0);" onclick="openBoxTitle('.$design_my_life_data['data_category'].',\''.$design_my_life_data['prof_cat1_heading'].'\');" class="btn btn-default btn-sm"  title="'.$design_my_life_data['prof_cat1_heading'].'"><i class="fa fa-question"></i></a>';                                }                                $outputstr.= ' </span>';            }             //change position 25-09-20            for ($l = 1;$l <= 11;$l++)             {                    //update by ample 10-01-20 in ramakant code (common/both)                if ($design_my_life_data['location_order_show'] == $l && ($design_my_life_data['location_show'] == 2 || $design_my_life_data['location_show'] == 3)) {                    $outputstr.= '<select  class="input-text-box input-quarter-width" name="location_main" id="location_main" title="' . $design_my_life_data['location_heading'] . '">                                     <option value="">' . $design_my_life_data['location_heading'] . '</option>                                     ' . $obj->getFavCategoryRamakant($design_my_life_data['location_fav_cat'], '') . '                                 </select>                                  <br>';                }                if ($design_my_life_data['user_date_order_show'] == $l && ($design_my_life_data['user_date_show'] == 2 || $design_my_life_data['user_date_show'] == 3)) {                    $outputstr.= '<span class="">                                      <!--<b>Date Selection:</b>-->                                     <select name="listing_date_type" id="listing_date_type" class="input-text-box input-quarter-width" onchange="toggleDateSelectionType(\'listing_date_type\')"  title="' . $design_my_life_data['user_date_heading'] . '">                                        <option value="">Select Date Type</option>                                         <option value="days_of_month">Days of Month</option>                                         <option value="single_date">Single Date</option>                                         <option value="date_range">Date Range</option>                                         <option value="month_wise">Month Wise</option>                                         <option value="days_of_week">Days of Week</option>                                     </select>                                  </span>                             <span>                                 <table style="margin-top:5px;">                                 <tr id="tr_days_of_month" style="margin-top:10px; display:' . $tr_days_of_month . '">                                         <td align="right" valign="top"><strong>&nbsp;</strong></td>                                         <td align="center" valign="top"><strong>&nbsp;</strong></td>                                         <td align="left">                                             <select id="days_of_month_main" name="days_of_month_main[]" multiple="multiple" class="input-text-box input-half-width" style="margin-top:20px;">';                    for ($i = 1;$i <= 31;$i++) {                        $outputstr.= '<option value="' . $i . '"';                        if (in_array($i, $arr_days_of_month)) {                            $outputstr.= 'selected="selected"';                        }                        $outputstr.= '>' . $i . '</option>';                    }                    $outputstr.= '</select>&nbsp;*<br>                                             You can choose more than one option by using the ctrl key.                                         </td>                                     </tr>                                                                         <tr id="tr_single_date" style="margin-top:10px; display:' . $tr_single_date . '">                                         <td align="right" valign="top"><strong>&nbsp;</strong></td>                                         <td align="center" valign="top"><strong>&nbsp;</strong></td>                                         <td align="left">                                             <input name="single_date_main" id="single_date_main" type="text" value="' . $single_date . '" class="input-text-box input-full-width" style="margin-top:20px;" placeholder="Select Date" />                                             <script>$("#single_date_main").datepicker({ minDate: 0 , dateFormat : "dd-mm-yy"}); </script>                                         </td>                                     </tr>                                     <tr id="tr_date_range" style="margin-top:10px; display:' . $tr_date_range . '">                                         <td align="right" valign="top"><strong>&nbsp;</strong></td>                                         <td align="center" valign="top"><strong>&nbsp;</strong></td>                                         <td align="left">                                             <input name="start_date_main" id="start_date_main" type="text" value="' . $start_date . '" class="input-text-box input-half-width" style="margin-top:20px;" placeholder="Start Date"  /> - <input name="end_date_main" id="end_date_main" type="text" value="' . $end_date . '" class="input-text-box input-half-width" style="margin-top:20px;" placeholder="End Date" />                                             <script>$("#start_date_main").datepicker({ minDate: 0 , dateFormat : "dd-mm-yy"});$("#end_date_main").datepicker({ minDate: 0 , dateFormat : "dd-mm-yy"}); </script>                                         </td>                                     </tr>                                     <tr id="tr_days_of_week" style="margin-top:10px; display:' . $tr_days_of_week . '">                                         <td align="right" valign="top"><strong>&nbsp;</strong></td>                                         <td align="center" valign="top"><strong>&nbsp;</strong></td>                                         <td align="left">                                             <select id="days_of_week_main" name="days_of_week_main[]" multiple="multiple" class="input-text-box input-half-width" style="margin-top:20px;">                                             ' . $obj->getDayOfWeekOptionsMultiple($arr_days_of_week) . '                                             </select>&nbsp;*<br>                                             You can choose more than one option by using the ctrl key.                                         </td>                                     </tr>                                     <tr id="tr_month_date" style="margin-top:10px; display:' . $tr_month_date . '">                                         <td align="right" valign="top"><strong>&nbsp;</strong></td>                                         <td align="center" valign="top"><strong>&nbsp;</strong></td>                                         <td align="left">                                             <select id="months_main" name="months_main[]" multiple="multiple" class="input-text-box input-half-width" style="margin-top:20px;">                                             ' . $obj->getMonthsOptionsMultiple($arr_month) . '                                              </select>&nbsp;*<br>                                             You can choose more than one option by using the ctrl key.                                         </td>                                     </tr>                                    </table>                             </span>                             <br>';                }                if ($design_my_life_data['time_order_show'] == $l && ($design_my_life_data['time_show'] == 2 || $design_my_life_data['time_show'] == 3)) {                    // $outputstr.= '<select  class="input-text-box input-quarter-width" name="bes_time_main" id="bes_time_main" title="' . $design_my_life_data['time_heading'] . '">                    //                  <option value="">' . $design_my_life_data['time_heading'] . '</option>                    //                  ' . $obj->getTimeOptionsNew('0', '23', $bes_time) . '                    //             </select>                    //              <br><br>';                        $outputstr.= '<input type="time" class="input-text-box input-quarter-width" name="bes_time_main"  id="bes_time_main"  placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />                        <span class="text-danger" id="time_note_main" style="font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red; text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></span>                        <br><br>';                }                if ($design_my_life_data['duration_order_show'] == $l && ($design_my_life_data['duration_show'] == 2 || $design_my_life_data['duration_show'] == 3)) {                    $outputstr.= '<input type="text" title="' . $design_my_life_data['duration_heading'] . '" name="duration_main" id="duration_main" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false">                        <select  class="input-text-box input-quarter-width" name="unit_main" id="unit_main" title="Duration Type">                                                <option value="">Select Unit</option>                                                    '.$obj->getFavCategoryRamakant('82','').'                                                </select>                             <br><br>';                }                if ($design_my_life_data['like_dislike_order_show'] == $l && ($design_my_life_data['User_view'] == 2 || $design_my_life_data['User_view'] == 3)) {                    $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_view_main" id="User_view_main" title="' . $design_my_life_data['like_dislike_heading'] . '">                                     <option value="">' . $design_my_life_data['like_dislike_heading'] . '</option>                                     ' . $obj->getFavCategoryRamakant($design_my_life_data['user_response_fav_cat'], '') . '                                 </select>                                 <br><br>';                }                if ($design_my_life_data['set_goals_order_show'] == $l && ($design_my_life_data['User_Interaction'] == 2 || $design_my_life_data['User_Interaction'] == 3)) {                    $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_Interaction_main" id="User_Interaction_main" title="' . $design_my_life_data['set_goals_heading'] . '">                                         <option value="">' . $design_my_life_data['set_goals_heading'] . '</option>                                         ' . $obj->getFavCategoryRamakant($design_my_life_data['user_what_fav_cat'], '') . '                                     </select>                                     <br><br>';                }                if ($design_my_life_data['scale_order_show'] == $l && ($design_my_life_data['scale_show'] == 2 || $design_my_life_data['scale_show'] == 3)) {                    $outputstr.= '<select  class="input-text-box input-quarter-width" name="scale_main" id="scale_main" title="' . $design_my_life_data['scale_heading'] . '">                                         <option value="">' . $design_my_life_data['scale_heading'] . '</option>                                         <option value="1">1</option>                                         <option value="2">2</option>                                         <option value="3">3</option>                                         <option value="4">4</option>                                         <option value="5">5</option>                                         <option value="6">6</option>                                         <option value="7">7</option>                                         <option value="8">8</option>                                         <option value="9">9</option>                                         <option value="10">10</option>                                     </select>                                     <br><br>';                }                if ($design_my_life_data['reminder_order_show'] == $l && ($design_my_life_data['alert_show'] == 2 || $design_my_life_data['alert_show'] == 3)) {                    $outputstr.= '<select class="input-text-box input-half-width" name="alert_main" id="alert_main" title="' . $design_my_life_data['reminder_heading'] . '">                                         <option value="">' . $design_my_life_data['reminder_heading'] . '</option>                                         ' . $obj->getFavCategoryRamakant($design_my_life_data['alerts_fav_cat'], '') . '                                     </select>                                     <br><br>';                }                if ($design_my_life_data['comment_order_show'] == $l && ($design_my_life_data['comment_show'] == 2 || $design_my_life_data['comment_show'] == 3)) {                    $outputstr.= '<textarea name="comment_main" title="' . $design_my_life_data['comments_heading'] . '" id="comment_main" class="input-text-box input-half-width" autocomplete="false" placeholder="' . $design_my_life_data['comments_heading'] . '" ></textarea>                                     <br><br>';                                 }            } //change position 25-09-20            //add by ample 13-04-20            if($design_my_life_data['banner_position']=='Top')            {                $outputstr.=$banner_html;            }            $special_html="";            //new section special text data 28-05-20            if(!empty($design_my_life_data['special_data']))            {                   $special_html.= '<div class="special-data">';                foreach ($design_my_life_data['special_data'] as $key => $value)                 {                                        $special_html.= '<span>';                        $special_html.= '<h6 class="special-title" style="background:#'.$design_my_life_data['special_bg_color'].';color:#'.$design_my_life_data['special_font_color'].';font-family: '.$design_data["special_font_family"].'; font-size: '.$design_data["special_font_size"].'px;"><i class="fa '.$design_my_life_data['special_icon_code'].'"></i> '.$value['specifiq_text'].'</h6>';                        $special_html.= '<input type="hidden" name="special_text[]" id="special_text' . $key . '" value="'.$value['specifiq_text'].'"  class="input-text-box " style="width:550px;margin: 10px 0;" autocomplete="off" readonly/>';                                            $special_html.= '</span>';                      //add by ample 29-05-20                               $special_html.='<input type="hidden" name="SP_icon_type[]"  value="' . $value['icon_type'] . '">';                     //new condition icon type 26-05-20                        if($value['icon_type']==1)                         {                                $special_html.= '<br>&nbsp;<a href="javascript:void(0);" onclick="ShowloopSP(' . $key . ');"><i class="fa fa-eye" style="cursor: pointer;" id="eyeSP' . $key . '" title="Click here for user action"></i></a><p>';                                for ($j = 0;$j < count($header_data);$j++) {                                    $icon_source=explode(',', $value['icon_source']);                                                                        for ($x = 1;$x <= 11;$x++)                                    {                                        if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_source)) {                                            $location_show_icon = $obj->getMyDayTodayIcon('location_show');                                        } else {                                            $location_show_icon = '';                                        }                                        if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_source)) {                                            $User_view_icon = $obj->getMyDayTodayIcon('User_view');                                        } else {                                            $User_view_icon = '';                                        }                                        if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_source)) {                                            $User_Interaction_icon = $obj->getMyDayTodayIcon('User_Interaction');                                        } else {                                            $User_Interaction_icon = '';                                        }                                        if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_source)) {                                            $alert_show_icon = $obj->getMyDayTodayIcon('alert_show');                                        } else {                                            $alert_show_icon = '';                                        }                                        if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) && in_array('Comment', $icon_source)) {                                            $comment_show_icon = $obj->getMyDayTodayIcon('comments_show');                                        } else {                                            $comment_show_icon = '';                                        }                                        if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_source)) {                                            $user_date_icon = $obj->getMyDayTodayIcon('date_show');                                        } else {                                            $user_date_icon = '';                                        }                                        if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_source)) {                                            $scale_show_icon = $obj->getMyDayTodayIcon('scale_show');                                        } else {                                            $scale_show_icon = '';                                        }                                        if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3) && in_array('Time', $icon_source)) {                                            $time_show_icon = $obj->getMyDayTodayIcon('time_show');                                        } else {                                            $time_show_icon = '';                                        }                                        if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3)  && in_array('Duration', $icon_source)) {                                            $duration_show_icon = $obj->getMyDayTodayIcon('duration_show');                                        } else {                                            $duration_show_icon = '';                                        }                                        if ($comment_show_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $comment_show_icon . '"  id="comment_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['comments_heading'] . '" onclick="ShowComment_SP(' . $key . ');">';                                        }                                        if ($location_show_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $location_show_icon . '"  id="location_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['location_heading'] . '" onclick="ShowLocation_SP(' . $key . ');">';                                        }                                        if ($User_view_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_view_icon . '"  id="User_view_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '" onclick="ShowUserview_SP(' . $key . ');">';                                        }                                        if ($User_Interaction_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_Interaction_icon . '"  id="User_Interaction_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['set_goals_heading'] . '" onclick="ShowUserInteraction_SP(' . $key . ');">';                                        }                                        if ($alert_show_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $alert_show_icon . '" id="alert_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['reminder_heading'] . '" onclick="ShowAlert_SP(' . $key . ');">';                                        }                                        if ($scale_show_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $scale_show_icon . '" id="scale_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['scale_heading'] . '" onclick="ShowScale_SP(' . $key . ');">';                                        }                                        if ($time_show_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $time_show_icon . '" id="time_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="Select ' . $header_data[$j]['time_heading'] . '" onclick="Showtime_SP(' . $key . ');">';                                        }                                        if ($duration_show_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $duration_show_icon . '"  id="duration_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['duration_heading'] . '" onclick="DurationShow_SP(' . $key . ');">';                                        }                                        if ($user_date_icon != '') {                                            $special_html.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $user_date_icon . '"  id="user_date_show_icon_SP'.$key.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['user_date_heading'] . '" onclick="ShowUserDate_SP(' . $key . ');">';                                        }                                                                            }                                    $special_html.= '</p>';                                        $special_html.= '<div class="md-col-12">';                                        for ($x = 1;$x <= 11;$x++)                                        {                                            if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_source)) {                                                $special_html.= '<select  class="input-text-box input-quarter-width" name="location_SP['.$key.']" id="location_SP' . $key . '" style="display:none;" title="' . $header_data[$j]['location_heading'] . '">                                                                  <option value="">' . $header_data[$j]['location_heading'] . '</option>                                                                  ' . $obj->getFavCategoryRamakant($header_data[$j]['location_fav_cat'], '') . '                                                              </select>';                                            }                                            if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_source)) {                                                $special_html.= '<select  class="input-text-box input-quarter-width" name="User_view_SP['.$key.']" id="User_view_SP' . $key . '" style="display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '">                                                                  <option value="">' . $header_data[$j]['like_dislike_heading'] . '</option>                                                                  ' . $obj->getFavCategoryRamakant($header_data[$j]['user_response_fav_cat'], '') . '                                                              </select>';                                            }                                            if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_source)) {                                                $special_html.= '<select  class="input-text-box input-quarter-width" name="User_Interaction_SP['.$key.']" id="User_Interaction_SP'.$key.'" style="display:none;" title="' . $header_data[$j]['set_goals_heading'] . '">                                                                  <option value="">' . $header_data[$j]['set_goals_heading'] . '</option>                                                                  ' . $obj->getFavCategoryRamakant($header_data[$j]['user_what_fav_cat'], '') . '                                                              </select>';                                            }                                            if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_source)) {                                               $special_html.= '<select class="input-text-box input-quarter-width" name="alert_SP['.$key.']" id="alert_SP'.$key.'" style="display:none;" title="' . $header_data[$j]['reminder_heading'] . '">                                                                  <option value="">' . $header_data[$j]['reminder_heading'] . '</option>                                                                  ' . $obj->getFavCategoryRamakant($header_data[$j]['alerts_fav_cat'], '') . '                                                              </select>';                                            }                                            if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) && in_array('Comment', $icon_source)) {                                                $special_html.= '<textarea  name="comment_SP[]" id="comment_SP'.$key.'"  placeholder="' . $header_data[$j]['comments_heading'] . '" title="' . $header_data[$j]['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false" style="display:none;"></textarea>';                                            }                                            if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_source)) {                                               $special_html.= '<select  class="input-text-box input-quarter-width" name="scale_SP[]" id="scale_SP'.$key.'" style="display:none;" title="' . $header_data[$j]['scale_heading'] . '">                                                        <option value="">' . $header_data[$j]['scale_heading'] . '</option>                                                        <option value="1">1</option>                                                        <option value="2">2</option>                                                        <option value="3">3</option>                                                        <option value="4">4</option>                                                        <option value="5">5</option>                                                        <option value="6">6</option>                                                        <option value="7">7</option>                                                        <option value="8">8</option>                                                        <option value="9">9</option>                                                        <option value="10">10</option>                                                    </select>';                                            }                                            if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3)&& in_array('Time', $icon_source)) {                                                $special_html.= '<input type="time" class="input-text-box input-quarter-width" name="bes_time_SP[]"  id="bes_time_SP'.$key.'" style="display: none;" placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                                 $special_html.= '<p class="text-danger" id="time_note_SP'.$key.'" style="display:none;font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></p>';                                            }                                            if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3)  && in_array('Duration', $icon_source)) {                                                 $special_html.= '<input type="text" name="duration_SP[]" id="duration_SP'.$key.'" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false" style="display:none;">';                                                $special_html.= '<select  class="input-text-box input-quarter-width" name="unit_SP[]" id="unit_SP'.$key.'" title="Duration Type" style="display:none;">                                                        <option value="">Select Unit</option>                                                            '.$obj->getFavCategoryRamakant('82','').'                                                        </select>';                                            }                                            if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3)  && in_array('Date', $icon_source)) {                                                $special_html.= '<span class="">                                                  <select name="userdate_SP[]" id="userdate_SP'.$key.'" onchange="toggleDateSelectionType_multiple_SP(\'userdate_SP\','.$key.')" style="width:200px;display:none;" class="input-text-box input-quarter-width">                                                      <option value="">Select Date Type</option>                                                      <option value="days_of_month"';                                                if ($listing_date_type == 'days_of_month') {                                                    $special_html.= 'selected="selected"';                                                }                                                $special_html.= '>Days of Month</option><option value="single_date"';                                                if ($listing_date_type == 'single_date') {                                                    $special_html.= 'selected="selected"';                                                }                                                $special_html.= '>Single Date</option><option value="date_range"';                                                if ($listing_date_type == 'date_range') {                                                    $special_html.= 'selected="selected"';                                                }                                                $special_html.= '>Date Range</option> <option value="month_wise"';                                                if ($listing_date_type == 'month_wise') {                                                    $special_html.= 'selected="selected"';                                                }                                                $special_html.= '>Month Wise</option><option value="days_of_week"';                                                if ($listing_date_type == 'days_of_week') {                                                    $special_html.= 'selected="selected"';                                                }                                                $special_html.= '>Days of Week</option>                                                             </select>                                                             </span>';                                                 $special_html.='<span>                                                    <table style="margin-top:5px;">                                                    <tr id="tr_days_of_month_SP'.$key.'" style="display:' . $tr_days_of_month . '">                                                            <td align="right" valign="top"><strong>Select days of month</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <select id="days_of_month_SP'.$key.'" name="days_of_month_SP['.$key.'][]" multiple="multiple" style="width:500px;" class="input-text-box input-quarter-width">';                                        for ($i = 1;$i <= 31;$i++) {                                            $special_html.= '<option value="' . $i . '"';                                            if (in_array($i, $arr_days_of_month)) {                                                $special_html.= 'selected="selected"';                                            }                                            $special_html.= '>' . $i . '</option>';                                        }                                        $special_html.= '</select>&nbsp;*<br>                                                           You can choose more than one option by using the ctrl key.                                                          </td>                                                         </tr>';                                        $special_html.= '<tr id="tr_single_date_SP'.$key.'" style="display:' . $tr_single_date . '">                                                            <td align="right" valign="top"><strong>Select Date</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <input name="single_date_SP[]" id="single_date_SP'.$key.'" type="text" value="' . $single_date . '" class="input-text-box" onmouseover="callDatecalender('.$key.')">';                                        $special_html.= '</td>                                                        </tr>                                                        <tr id="tr_date_range_SP'.$key.'" style="display:' . $tr_date_range . '">                                                            <td align="right" valign="top"><strong>Select Date Range</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <input name="start_date_SP[]" id="start_date_SP'.$key.'" type="text" value="' . $start_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender('.$key.')"/> - <input name="end_date_SP[]" id="end_date_SP'.$key.'" type="text" value="' . $end_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender('.$key.')"/>';                                        $special_html.= '</td>                                                        </tr>                                                        <tr id="tr_days_of_week_SP'.$key.'" style="display:' . $tr_days_of_week . '">                                                            <td align="right" valign="top"><strong>Select days of week</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <select id="days_of_week_SP'.$key.'" name="days_of_week_SP['.$key.'][]" multiple="multiple" class="input-text-box">';                                        $special_html.= $obj->getDayOfWeekOptionsMultiple($arr_days_of_week);                                        $special_html.= '</select>&nbsp;*<br>                                                                You can choose more than one option by using the ctrl key.                                                            </td>                                                        </tr>';                                        $special_html.= '<tr id="tr_month_date_SP'.$key.'" style="display:' . $tr_month_date . '">                                                            <td align="right" valign="top"><strong>Select Month</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <select id="months_SP'.$key.'" name="months_SP['.$key.'][]" multiple="multiple" class="input-text-box">';                                        $special_html.= $obj->getMonthsOptionsMultiple($arr_month);                                        $special_html.= '</select>&nbsp;*<br>                                                                You can choose more than one option by using the ctrl key.                                                            </td>                                                        </tr>                                                        </table>                                                    </div><br>';                                            }                                        }                                      if($header_data[$j]['scale_show']  == 0)                                            {                                                 $special_html.= '<input type="hidden" name="scale_SP[]">';                                             }                                            if($header_data[$j]['comments_show']  == 0)                                            {                                                $special_html.= '<input type="hidden" name="comment_SP[]">';                                             }                                                               $special_html.= '</span><br>';                            }                        } //icon type end                        elseif($value['icon_type']==2 || $value['icon_type']==3)                        {                               $icon_source=explode(',', $value['icon_source']);                            //$icon_data_dropdown="";                                        for ($x = 1;$x <= 11;$x++)                                         {                                                                                           if (in_array('Location', $icon_source) && $design_my_life_data['location_order_show'] == $x && ($design_my_life_data['location_show']  == 1 || $design_my_life_data['location_show'] == 3)) {                                                                                                $icon_data_dropdown1=$obj->getFavCategoryShortData($design_my_life_data['location_fav_cat'], '');                                                if(!empty($icon_data_dropdown1))                                                {                                                    $special_html.= '<h6 class="Header_brown">'.$design_my_life_data['location_heading'].'</h6>';                                                    $special_html.= '<div class="checkbox-style">';                                                        if($value['icon_type']==2)                                                        {                                                            foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="checkbox-inline"><input type="checkbox" name="location_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                        }                                                        elseif($value['icon_type']==3)                                                        {                                                            foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="radio-inline"><input type="radio" name="location_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                        }                                                    $special_html.= '</div>';                                                }                                                                                            }                                            if (in_array('User_Response', $icon_source) && $design_my_life_data['like_dislike_order_show'] == $x && ($design_my_life_data['User_view']  == 1 || $design_my_life_data['User_view'] == 3)) {                                                                     $icon_data_dropdown2=$obj->getFavCategoryShortData($design_my_life_data['user_response_fav_cat']);                                                if(!empty($icon_data_dropdown2))                                                {                                                    $special_html.= '<h6 class="Header_brown">'.$design_my_life_data['like_dislike_heading'].'</h6>';                                                    $special_html.= '<div class="checkbox-style">';                                                    if($value['icon_type']==2)                                                    {                                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="checkbox-inline"><input type="checkbox" name="User_view_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                    }                                                    elseif($value['icon_type']==3)                                                    {                                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="radio-inline"><input type="radio" name="User_view_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                    }                                                                                                                $special_html.= '</div>';                                                }                                            }                                            if (in_array('User_What_Next', $icon_source) && $design_my_life_data['set_goals_order_show'] == $x && ($design_my_life_data['User_Interaction']  == 1 || $design_my_life_data['User_Interaction'] == 3)) {                                                                                                 $icon_data_dropdown3=$obj->getFavCategoryShortData($design_my_life_data['user_what_fav_cat']);                                                if(!empty($icon_data_dropdown3))                                                {                                                    $special_html.= '<h6 class="Header_brown">'.$design_my_life_data['set_goals_heading'].'</h6>';                                                    $special_html.= '<div class="checkbox-style">';                                                    if($value['icon_type']==2)                                                    {                                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="checkbox-inline"><input type="checkbox" name="User_Interaction_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                    }                                                    elseif($value['icon_type']==3)                                                    {                                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="radio-inline"><input type="radio" name="User_Interaction_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                    }                                                                                                                $special_html.= '</div>';                                                }                                            }                                            if (in_array('Alert_Update', $icon_source) && $design_my_life_data['reminder_order_show'] == $x && ($design_my_life_data['alert_show']  == 1 || $design_my_life_data['alert_show'] == 3)) {                                                $icon_data_dropdown4=$obj->getFavCategoryShortData($design_my_life_data['alerts_fav_cat']);                                                if(!empty($icon_data_dropdown4))                                                {                                                    $special_html.= '<h6 class="Header_brown">'.$design_my_life_data['reminder_heading'].'</h6>';                                                    $special_html.= '<div class="checkbox-style">';                                                    if($value['icon_type']==2)                                                    {                                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="checkbox-inline"><input type="checkbox" name="alert_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                    }                                                    elseif($value['icon_type']==3)                                                    {                                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                                $special_html.= '<label class="radio-inline"><input type="radio" name="alert_SP['.$key.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                                            }                                                    }                                                                                                                $special_html.= '</div>';                                                }                                            }                                                                                    }                                        $special_html.='<p style="clear: both;"><br></p>';                                        for ($x = 1;$x <= 11;$x++)                                         {                                            if (in_array('Comment', $icon_source) && $design_my_life_data['comment_order_show'] == $x && ($design_my_life_data['comment_show']  == 1 || $design_my_life_data['comment_show'] == 3)) {                                                $special_html.= '<p><textarea  name="comment_SP[]" id="comment_SP'.$key.'"  placeholder="' . $design_my_life_data['comments_heading'] . '" title="' . $design_my_life_data['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false"></textarea></p>';                                            }                                            if (in_array('Scale', $icon_source) && $design_my_life_data['scale_order_show'] == $x && ($design_my_life_data['scale_show']  == 1 || $design_my_life_data['scale_show'] == 3)) {                                               $special_html.= '<p><select  class="input-text-box input-quarter-width" name="scale_SP[]" id="scale_SP'.$key.'"  title="' . $design_my_life_data['scale_heading'] . '">                                                        <option value="">' . $design_my_life_data['scale_heading'] . '</option>                                                        <option value="1">1</option>                                                        <option value="2">2</option>                                                        <option value="3">3</option>                                                        <option value="4">4</option>                                                        <option value="5">5</option>                                                        <option value="6">6</option>                                                        <option value="7">7</option>                                                        <option value="8">8</option>                                                        <option value="9">9</option>                                                        <option value="10">10</option>                                                    </select></p>';                                            }                                            if (in_array('Time', $icon_source) && $design_my_life_data['time_order_show'] == $x && ($design_my_life_data['time_show']  == 1 || $design_my_life_data['time_show'] == 3)) {                                                $special_html.= '<p><input type="time" class="input-text-box input-quarter-width" name="bes_time_SP[]"  id="bes_time_SP'.$key.'" placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                                 $special_html.= '<span class="text-danger" id="time_note_SP'.$key.'" style="font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></sapn></p>';                                            }                                            if (in_array('Duration', $icon_source) && $design_my_life_data['duration_order_show'] == $x && ($design_my_life_data['duration_show']  == 1 || $design_my_life_data['duration_show'] == 3)) {                                                 $special_html.= '<p><input type="text" name="duration_SP[]" id="duration_SP'.$key.'" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false">';                                                $special_html.= '<select  class="input-text-box input-quarter-width" name="unit_SP[]" id="unit_SP'.$key.'" title="Duration Type">                                                        <option value="">Select Unit</option>                                                            '.$obj->getFavCategoryRamakant('82','').'                                                        </select></p>';                                            }                                        }                                        if($design_my_life_data['scale_show']  == 0)                                            {                                                 $special_html.= '<input type="hidden" name="scale_SP[]">';                                             }                                            if($design_my_life_data['comments_show']  == 0)                                            {                                                $special_html.= '<input type="hidden" name="comment_SP[]">';                                             }                                        $special_html.= '<input type="hidden" name="userdate_SP[]" />                                                      <input type="hidden" name="single_date_SP[]" />                                                      <input type="hidden" name="start_date_SP[]" />                                                      <input type="hidden" name="end_date_SP[]" />                                                        ';                        }                        else                        {                            $special_html.= '                                          <input type="hidden" name="location_SP['.$key.']" />                                          <input type="hidden" name="alert_SP['.$key.']" />                                          <input type="hidden" name="User_view_SP['.$key.']" />                                          <input type="hidden" name="User_Interaction_SP['.$key.']" />                                          <input type="hidden" name="comment_SP[]" />                                          <input type="hidden" name="duration_SP[]" />                                          <input type="hidden" name="unit_SP[]" />                                          <input type="hidden" name="scale_SP[]" />                                          <input type="hidden" name="bes_time_SP[]" />                                          <input type="hidden" name="userdate_SP[]" />                                          <input type="hidden" name="single_date_SP[]" />                                          <input type="hidden" name="start_date_SP[]" />                                          <input type="hidden" name="end_date_SP[]" />                                            <br>';                        }                    if($value['rank_show']==1)                     {                        $special_html.= '<p><select  class="input-text-box input-quarter-width" name="rank_SP[]" id="rank_SP'.$key.'"  title="Ranking">';                                        $special_html.= '<option value="">Choose Rank</option>';                            for ($z=1; $z < 21; $z++)                                 {                                      $special_html.= '<option value="'.$z.'">'.$z.'</option>';                                }                                              $special_html.= '</select></p>';                    }                }                $special_html.= '</div>';            }            //add by ample 13-04-20            if($design_my_life_data['special_text_position']=='Top')            {                $outputstr.=$special_html;            }            $outputstr.= '<br>';            if ($design_my_life_data['quick_response_show'] == 1) {                $cat_cnt = 0;                $cat_total_cnt = 1;                $box_cnt = 0;                $box_total_cnt = 1;                $count = $design_my_life_data['box_count'];                // $input_box_count = $design_my_life_data['input_box_count'];                //add by ample 25-05-20                $qr_data_source=explode(',', $design_my_life_data['qr_data_source']);                $data_dropdown="";                if(in_array('ProfCat2', $qr_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat2'], $design_my_life_data['sub_cat2_show_fetch'], $design_my_life_data['sub_cat2_link'], $design_my_life_data['prof_cat2_ref_code'], $design_my_life_data['prof_cat2_uid']);                }                if(in_array('ProfCat3', $qr_data_source))                {                    $data_dropdown.=$obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat3'], $design_my_life_data['sub_cat3_show_fetch'], $design_my_life_data['sub_cat3_link'], $design_my_life_data['prof_cat3_ref_code'], $design_my_life_data['prof_cat3_uid']);                }                if(in_array('ProfCat4', $qr_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat4'], $design_my_life_data['sub_cat4_show_fetch'], $design_my_life_data['sub_cat4_link'], $design_my_life_data['prof_cat4_ref_code'], $design_my_life_data['prof_cat4_uid']);                }                //add by ample 25-05-20                $outputstr.= '<!--<span class="Header_brown"><strong>' . $design_my_life_data['quick_response_heading'] . '</strong></span> -->                             <br>                            <span>                                <input type="hidden" name="sub_cat_id" id="sub_cat_id" value="' . $sub_cat_id . '"/>                                <input type="hidden" name="ref_code" id="ref_code" value="' . $design_my_life_data['ref_code'] . '"/>                                <input type="hidden" name="icon_code" id="icon_code" value="' . $design_my_life_data['quick_tip_icon'] . '"/>                                <input type="hidden" name="max_box_count" id="max_box_count" value="' . $design_my_life_data['box_count'] . '"/>                            </span>';                // $outputstr.= ' <span id="message" style="color:blue; font-size: 10px;">(Type 4 letters and select keyword option)</span>                //                    <br>';                 //add by ample 01-06-20                $outputstr.='<input type="hidden" name="qr_icon_type"  value="' . $design_my_life_data['icon_box1'] . '">';                $outputstr.='<input type="hidden" name="qr_icon_source"  value="' . $design_my_life_data['icon_box_source1'] . '">';                                       $outputstr.= '                            <div id="row_loc_first">                                <input type="hidden" name="cat_cnt" id="cat_cnt" value="' . $cat_cnt . '">                                <input type="hidden" name="cat_total_cnt" id="cat_total_cnt" value="' . $cat_total_cnt . '">';                            //new condition add by ample 25-05-20                            if($design_my_life_data['qr_box_type']==2)                            {                                 $outputstr.= '<input type="text" ' . $required . ' name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" list="capitals_' . $cat_cnt . '" class="input-text-box dlist" style="width:535px;" onchange="Display_Solution(' . $cat_cnt . ')" autocomplete="off"/>                               <datalist id="capitals_' . $cat_cnt . '" class="dlist" style="">                                    ' . $data_dropdown . '                                 </datalist>';                            }                            elseif($design_my_life_data['qr_box_type']==3)                            {                                $outputstr.= '<input type="text" name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" class="input-text-box " style="width:500px;" autocomplete="off"/>                                    <a href="javascript:void(0);" onclick="openExampleBox('.$design_my_life_data['id'].','."'QR'".',\''.$design_my_life_data['prof_cat2_heading'].'\');" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="'.$design_my_life_data['prof_cat2_heading'].'" data-original-title=""><i class="fa fa-question"></i></a>';                             }                            elseif($design_my_life_data['qr_box_type']==4)                            {                                $outputstr.= '<input type="text" name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" class="input-text-box " value="'.$design_my_life_data['qr_specifiq_text'].'" style="width:535px;" readonly/>                                   ';                             }                            else                            {                                $outputstr.= '<input type="text" name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" class="input-text-box " style="width:535px;" autocomplete="off"/>';                            }                    $outputstr.= ' <span>';                                            $outputstr.= '<a href="javascript:void(0);" onclick="addMoreRowLocation();" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="Add More" data-original-title=""><i class="fa fa-plus"></i></a>';                        $outputstr.= '<a href="javascript:void(0);" onclick="erase_input(0);"><i class="fa fa-eraser" id="erase_icon0" aria-hidden="true" style="font-size: 15px;"></i></a>';                        //icon type start 26-05-20                                        if($design_my_life_data['icon_box1']==1)                     {                        $outputstr.= '<br>&nbsp;&nbsp;<a href="javascript:void(0);" onclick="Showloop(0);"><i class="fa fa-eye" style="cursor: pointer;" id="eyes0" title="Click here for user action"></i></a>';                         //echo "<pre>";print_r($header_data);echo "</pre>";                        //update by ample 10-01-20 & update  06-07-20                        for ($j = 0;$j < count($header_data);$j++)                         {                               $icon_box_source1=explode(',', $header_data[$j]['icon_box_source1']);                            $keyworddata_implode_data = array();                            $exclusion_name = $obj->getExclusionAllName();                           for ($x = 1;$x <= 11;$x++)                            {                                if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source1)) {                                    $location_show_icon = $obj->getMyDayTodayIcon('location_show');                                } else {                                    $location_show_icon = '';                                }                                if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_box_source1)) {                                    $User_view_icon = $obj->getMyDayTodayIcon('User_view');                                } else {                                    $User_view_icon = '';                                }                                if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source1)) {                                    $User_Interaction_icon = $obj->getMyDayTodayIcon('User_Interaction');                                } else {                                    $User_Interaction_icon = '';                                }                                if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source1)) {                                    $alert_show_icon = $obj->getMyDayTodayIcon('alert_show');                                } else {                                    $alert_show_icon = '';                                }                                if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) &&in_array('Comment', $icon_box_source1)) {                                    $comment_show_icon = $obj->getMyDayTodayIcon('comments_show');                                } else {                                    $comment_show_icon = '';                                }                                if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source1)) {                                    $user_date_icon = $obj->getMyDayTodayIcon('date_show');                                } else {                                    $user_date_icon = '';                                }                                if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source1)) {                                    $scale_show_icon = $obj->getMyDayTodayIcon('scale_show');                                } else {                                    $scale_show_icon = '';                                }                                if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3) && in_array('Time', $icon_box_source1)) {                                    $time_show_icon = $obj->getMyDayTodayIcon('time_show');                                } else {                                    $time_show_icon = '';                                }                                if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source1) ) {                                    $duration_show_icon = $obj->getMyDayTodayIcon('duration_show');                                } else {                                    $duration_show_icon = '';                                }                                                                                                                            if ($comment_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $comment_show_icon . '"  name="comment_show_icon_0" id="comment_show_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['comments_heading'] . '" onclick="ShowComment(0);">';                                }                                if ($location_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $location_show_icon . '"  name="location_show_icon_0" id="location_show_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['location_heading'] . '" onclick="ShowLocation(0);">';                                }                                if ($User_view_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_view_icon . '"  name="User_view_icon_0" id="User_view_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '" onclick="ShowUserview(0);">';                                }                                if ($User_Interaction_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_Interaction_icon . '"  name="User_Interaction_icon_0" id="User_Interaction_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['set_goals_heading'] . '" onclick="ShowUserInteraction(0);">';                                }                                if ($alert_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $alert_show_icon . '"  name="alert_show_icon_0" id="alert_show_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['reminder_heading'] . '" onclick="ShowAlert(0);">';                                }                                if ($scale_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $scale_show_icon . '"  name="scale_show_icon_0" id="scale_show_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['scale_heading'] . '" onclick="ShowScale(0);">';                                }                                if ($time_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $time_show_icon . '" name="time_show_icon_0" id="time_show_icon_0" style="width:25px; height: 25px; display:none;" title="Select ' . $header_data[$j]['time_heading'] . '" onclick="Showtime(0);">';                                }                                if ($duration_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $duration_show_icon . '"  name="duration_show_icon_0" id="duration_show_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['duration_heading'] . '" onclick="DurationShow(0);">';                                }                                if ($user_date_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $user_date_icon . '"  name="user_date_show_icon_0" id="user_date_show_icon_0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['user_date_heading'] . '" onclick="ShowUserDate(0);">';                                }                                                            }                                                                                       $outputstr.= '</p>';                                $outputstr.= '<div class="md-col-12">                                                <input type="hidden" name="sub_cat[]"  value="' . $header_data[$j]['sub_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="prof_cat[]"  value="' . $header_data[$j]['prof_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="canv_show_fetch[]"  value="' . $header_data[$j]['sub_cat2_show_fetch'] . '">';                                $outputstr.= '<input type="hidden" name="canv_sub_cat_link[]"  value="' . $header_data[$j]['sub_cat2_link'] . '">';                                for ($x = 1;$x <= 11;$x++)                                 {                                    if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source1)) {                                         $outputstr.= '<select  class="input-text-box input-quarter-width" name="location[]" id="location_0" style="display:none;" title="' . $header_data[$j]['location_heading'] . '">                                                    <option value="">' . $header_data[$j]['location_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['location_fav_cat'], '') . '                                                </select>';                                    }                                    if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3)&& in_array('User_Response', $icon_box_source1)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_view[]" id="User_view_0" style="display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '">                                                    <option value="">' . $header_data[$j]['like_dislike_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['user_response_fav_cat'], '') . '                                                </select>';                                    }                                    if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source1)) {                                         $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_Interaction[]" id="User_Interaction_0" style="display:none;" title="' . $header_data[$j]['set_goals_heading'] . '">                                                    <option value="">' . $header_data[$j]['set_goals_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['user_what_fav_cat'], '') . '                                                </select>';                                    }                                    if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source1)) {                                            $outputstr.= '<select class="input-text-box input-quarter-width" name="alert[]" id="alert_0" style="display:none;" title="' . $header_data[$j]['reminder_heading'] . '">                                                    <option value="">' . $header_data[$j]['reminder_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['alerts_fav_cat'], '') . '                                                </select>';                                    }                                    if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) && in_array('Comment', $icon_box_source1)) {                                        $outputstr.= '<textarea  type="text" name="comment[]" id="comment_0"  placeholder="' . $header_data[$j]['comments_heading'] . '" title="' . $header_data[$j]['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false" style="display:none;"></textarea>';                                    }                                    if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source1)) {                                            $outputstr.= '<select  class="input-text-box input-quarter-width" name="scale[]" id="scale_0" style="display:none;" title="' . $header_data[$j]['scale_heading'] . '">                                                <option value="">' . $header_data[$j]['scale_heading'] . '</option>                                                <option value="1">1</option>                                                <option value="2">2</option>                                                <option value="3">3</option>                                                <option value="4">4</option>                                                <option value="5">5</option>                                                <option value="6">6</option>                                                <option value="7">7</option>                                                <option value="8">8</option>                                                <option value="9">9</option>                                                <option value="10">10</option>                                            </select>';                                    }                                    if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3) && in_array('Time', $icon_box_source1)) {                                        // $outputstr.= '<select  class="input-text-box input-quarter-width" name="bes_time[]" id="bes_time_0" style="display: none;">                                        //          <option value="">' . $design_my_life_data['time_heading'] . '</option>                                        //          ' . $obj->getTimeOptionsNew('0', '23', $bes_time) . '                                        //      </select>';                                        $outputstr.= '<input type="time" class="input-text-box input-quarter-width" name="bes_time[]" id="bes_time_0" style="display: none;" placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                        $outputstr.= '<p class="text-danger" id="time_note_0" style="display:none;font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></p>';                                    }                                    if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source1)) {                                        $outputstr.= '<input type="text" name="duration[]" id="duration_0" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false" style="display:none;">';                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit[]" id="unit_0" title="Duration Type" style="display:none;">                                                <option value="">Select Unit</option>                                                    '.$obj->getFavCategoryRamakant('82','').'                                                </select>';                                    }                                    if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source1)) {                                       $outputstr.= '<span class="">                                          <select name="userdate[]" id="userdate_0" onchange="toggleDateSelectionType_multiple(\'userdate_\',0)" style="width:200px;display:none;" class="input-text-box input-quarter-width">                                              <option value="">Select Date Type</option>                                              <option value="days_of_month"';                                        if ($listing_date_type == 'days_of_month') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Month</option><option value="single_date"';                                        if ($listing_date_type == 'single_date') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Single Date</option><option value="date_range"';                                        if ($listing_date_type == 'date_range') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Date Range</option> <option value="month_wise"';                                        if ($listing_date_type == 'month_wise') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Month Wise</option><option value="days_of_week"';                                        if ($listing_date_type == 'days_of_week') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Week</option>                                                     </select>                                                     </span>';                                             $outputstr.= '<span>                                                                                    <table style="margin-top:5px;">                                            <tr id="tr_days_of_month_0" style="display:' . $tr_days_of_month . '">                                                    <td align="right" valign="top"><strong>Select days of month</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="days_of_month" name="days_of_month[0][]" multiple="multiple" style="width:500px;" class="input-text-box input-quarter-width">';                                for ($i = 1;$i <= 31;$i++) {                                    $outputstr.= '<option value="' . $i . '"';                                    if (in_array($i, $arr_days_of_month)) {                                        $outputstr.= 'selected="selected"';                                    }                                    $outputstr.= '>' . $i . '</option>';                                }                                $outputstr.= '</select>&nbsp;*<br>                                                   You can choose more than one option by using the ctrl key.                                                  </td>                                                 </tr>';                                $outputstr.= '<tr id="tr_single_date_0" style="display:' . $tr_single_date . '">                                                    <td align="right" valign="top"><strong>Select Date</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <input name="single_date[]" id="single_date0" type="text" value="' . $single_date . '" class="input-text-box" onmouseover="callDatecalender(0)">';                                $outputstr.= '</td>                                                </tr>                                                <tr id="tr_date_range_0" style="display:' . $tr_date_range . '">                                                    <td align="right" valign="top"><strong>Select Date Range</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <input name="start_date[]" id="start_date0" type="text" value="' . $start_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender(0)"/> - <input name="end_date[]" id="end_date0" type="text" value="' . $end_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender(0)" />';                                $outputstr.= '</td>                                                </tr>                                                <tr id="tr_days_of_week_0" style="display:' . $tr_days_of_week . '">                                                <td align="right" valign="top"><strong>Select days of week</strong></td>                                                <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="days_of_week" name="days_of_week[0][]" multiple="multiple" class="input-text-box">';                                $outputstr.= $obj->getDayOfWeekOptionsMultiple($arr_days_of_week);                                $outputstr.= '</select>&nbsp;*<br>                                                        You can choose more than one option by using the ctrl key.                                                    </td>                                                </tr>';                                $outputstr.= '<tr id="tr_month_date_0" style="display:' . $tr_month_date . '">                                                    <td align="right" valign="top"><strong>Select Month</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="months" name="months[0][]" multiple="multiple" class="input-text-box">';                                $outputstr.= $obj->getMonthsOptionsMultiple($arr_month);                                $outputstr.= '</select>&nbsp;*<br>                                                        You can choose more than one option by using the ctrl key.                                                    </td>                                                </tr>                                                </table></span><br>';                                                                                    }                                   }                                      $outputstr.= '  <br>                                    </div>';                                                                        }                } //icon type end                elseif($design_my_life_data['icon_box1']==2 || $design_my_life_data['icon_box1']==3)                {                       $icon_box_source1=explode(',', $design_my_life_data['icon_box_source1']);                     //$icon_data_dropdown="";                        for ($x = 1;$x <= 11;$x++)                         {	                        	                            if (in_array('Location', $icon_box_source1) && $design_my_life_data['location_order_show'] == $x && ($design_my_life_data['location_show']  == 1 || $design_my_life_data['location_show'] == 3)) {                                                                $icon_data_dropdown1=$obj->getFavCategoryShortData($design_my_life_data['location_fav_cat']);                                if(!empty($icon_data_dropdown1))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['location_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="location[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="location[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                                                            }                            if (in_array('User_Response', $icon_box_source1) && $design_my_life_data['like_dislike_order_show'] == $x && ($design_my_life_data['User_view']  == 1 || $design_my_life_data['User_view'] == 3)) {                                     $icon_data_dropdown2=$obj->getFavCategoryShortData($design_my_life_data['user_response_fav_cat']);                                if(!empty($icon_data_dropdown2))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['like_dislike_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_view[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_view[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                            }                            if (in_array('User_What_Next', $icon_box_source1) && $design_my_life_data['set_goals_order_show'] == $x && ($design_my_life_data['User_Interaction']  == 1 || $design_my_life_data['User_Interaction'] == 3)) {                                                                 $icon_data_dropdown3=$obj->getFavCategoryShortData($design_my_life_data['user_what_fav_cat']);                                if(!empty($icon_data_dropdown3))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['set_goals_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_Interaction[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_Interaction[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                            }                            if (in_array('Alert_Update', $icon_box_source1) && $design_my_life_data['reminder_order_show'] == $x && ($design_my_life_data['alert_show']  == 1 || $design_my_life_data['alert_show'] == 3)) {                                $icon_data_dropdown4=$obj->getFavCategoryShortData($design_my_life_data['alerts_fav_cat']);                                if(!empty($icon_data_dropdown4))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['reminder_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="alert[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="alert[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                            }                                                    }                        $outputstr.='<p style="clear: both;"><br></p>';            			for ($x = 1;$x <= 11;$x++)                         {                        	if (in_array('Comment', $icon_box_source1) && $design_my_life_data['comment_order_show'] == $x && ($design_my_life_data['comment_show']  == 1 || $design_my_life_data['comment_show'] == 3)) {                                $outputstr.= '<p><textarea  name="comment_SP[]" id="comment_SP'.$key.'"  placeholder="' . $design_my_life_data['comments_heading'] . '" title="' . $design_my_life_data['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false"></textarea></p>';                            }                            if (in_array('Scale', $icon_box_source1) && $design_my_life_data['scale_order_show'] == $x && ($design_my_life_data['scale_show']  == 1 || $design_my_life_data['scale_show'] == 3)) {                               $outputstr.= '<p><select  class="input-text-box input-quarter-width" name="scale[]"  title="' . $design_my_life_data['scale_heading'] . '">                                        <option value="">' . $design_my_life_data['scale_heading'] . '</option>                                        <option value="1">1</option>                                        <option value="2">2</option>                                        <option value="3">3</option>                                        <option value="4">4</option>                                        <option value="5">5</option>                                        <option value="6">6</option>                                        <option value="7">7</option>                                        <option value="8">8</option>                                        <option value="9">9</option>                                        <option value="10">10</option>                                    </select></p>';                            }                            if (in_array('Time', $icon_box_source1) && $design_my_life_data['time_order_show'] == $x && ($design_my_life_data['time_show']  == 1 || $design_my_life_data['time_show'] == 3)) {                                $outputstr.= '<p><input type="time" class="input-text-box input-quarter-width" name="bes_time[]"   placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                 $outputstr.= '<span class="text-danger"  style="font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></sapn></p>';                            }                            if (in_array('Duration', $icon_box_source1) && $design_my_life_data['duration_order_show'] == $x && ($design_my_life_data['duration_show']  == 1 || $design_my_life_data['duration_show'] == 3)) {                                 $outputstr.= '<p><input type="text" name="duration[]"  onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false">';                                $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit[]"  title="Duration Type">                                        <option value="">Select Unit</option>                                            '.$obj->getFavCategoryRamakant('82','').'                                        </select></p>';                            }                        }                }                else                {                    $outputstr.= '<br>';                }                                    $outputstr.= '</div><br>';            }            if ($design_my_life_data['input_box_show'] == 1) {                $box_cnt = 0;                $box_total_cnt = 1;                $other_data_source=explode(',', $design_my_life_data['other_data_source']);                $data_dropdown="";                if(in_array('ProfCat2', $other_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat2'], $design_my_life_data['sub_cat2_show_fetch'], $design_my_life_data['sub_cat2_link'], $design_my_life_data['prof_cat2_ref_code'], $design_my_life_data['prof_cat2_uid']);                }                if(in_array('ProfCat3', $other_data_source))                {                    $data_dropdown.=$obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat3'], $design_my_life_data['sub_cat3_show_fetch'], $design_my_life_data['sub_cat3_link'], $design_my_life_data['prof_cat3_ref_code'], $design_my_life_data['prof_cat3_uid']);                }                if(in_array('ProfCat4', $other_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat4'], $design_my_life_data['sub_cat4_show_fetch'], $design_my_life_data['sub_cat4_link'], $design_my_life_data['prof_cat4_ref_code'], $design_my_life_data['prof_cat4_uid']);                }                $outputstr.= '<!--<span class="Header_brown"><strong>'.$design_my_life_data['response_heading'].'</strong></span>-->                                <input type="hidden" name="sub_cat_id" id="sub_cat_id" value="' . $sub_cat_id . '"/>                                <input type="hidden" name="max_input_box_count" id="max_input_box_count" value="' . $design_my_life_data['input_box_count'] . '"/>';                                $outputstr.='<input type="hidden" name="other_icon_type"  value="' . $design_my_life_data['icon_box2'] . '">';                                $outputstr.='<input type="hidden" name="other_icon_source"  value="' . $design_my_life_data['icon_box_source2'] . '">';                                $outputstr.= ' <br>                                <div id="row_inp_first">                                <input type="hidden" name="box_cnt" id="box_cnt" value="' . $box_cnt . '">                               <input type="hidden" name="box_total_cnt" id="box_total_cnt" value="' . $box_total_cnt . '">';                                //new condition add by ample 25-05-20                            if($design_my_life_data['other_box_type']==2)                            {                                 $outputstr.= '<input type="text" ' . $required . ' name="user_input[]" id="user_input_' . $box_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" list="capitals_' . $box_cnt . '" class="input-text-box dlist" style="width:535px;" onchange="Display_Solution(' . $box_cnt. ')" autocomplete="off"/>                               <datalist id="capitals_' . $box_cnt . '" class="dlist" style="">                                    ' . $data_dropdown . '                                 </datalist>';                            }                            elseif($design_my_life_data['other_box_type']==3)                            {                                $outputstr.= '<input type="text" name="user_input[]" id="user_input_' . $box_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" class="input-text-box " style="width:500px;" autocomplete="off"/>                                    <a href="javascript:void(0);" onclick="openExampleBox('.$design_my_life_data['id'].','."'OT'".',\''.$design_my_life_data['prof_cat3_heading'].'\');" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="'.$design_my_life_data['prof_cat3_heading'].'" data-original-title=""><i class="fa fa-question"></i></a>';                             }                            elseif($design_my_life_data['other_box_type']==4)                            {                                $outputstr.= '<input type="text" name="user_input[]" id="user_input_' . $box_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" class="input-text-box " value="'.$design_my_life_data['other_specifiq_text'].'" style="width:535px;" readonly/>                                   ';                             }                            else                            {                                $outputstr.= '<input type="text" name="user_input[]" id="user_input_' . $box_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" class="input-text-box " style="width:535px;" autocomplete="off"/>';                            }                                     $outputstr.='<span>';                                            $outputstr.= '<a href="javascript:void(0);" onclick="addMoreRowLoc();" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="Add More" data-original-title=""><i class="fa fa-plus"></i></a>';                         $outputstr.= '<a href="javascript:void(0);" onclick="erase_inputs(0);"><i class="fa fa-eraser" id="erase_icon0" aria-hidden="true" style="font-size: 15px;"></i></a>';                        //new condition icon type 26-05-20                        if($design_my_life_data['icon_box2']==1)                         {                        $outputstr.= '<br>&nbsp;<a href="javascript:void(0);" onclick="ShowloopLoc(0);"><i class="fa fa-eye" style="cursor: pointer;" id="eyes0" title="Click here for user action"></i></a>';                        // echo "<pre>";print_r($header_data);echo "</pre>";                        for ($j = 0;$j < count($header_data);$j++) {                            $icon_box_source2=explode(',', $header_data[$j]['icon_box_source2']);                            $keyworddata_implode_data = array();                            $exclusion_name = $obj->getExclusionAllName();                            // echo $header_data[$j]['location_show']."".$header_data[$j]['User_view'].''.$header_data[$j]['User_Interaction'].''.$header_data[$j]['alert_show'].''.$header_data[$j]['comment_show'].''.$header_data[$j]['user_date_show'];                            for ($x = 1;$x <= 11;$x++)                            {                                if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source2)) {                                    $location_show_icon = $obj->getMyDayTodayIcon('location_show');                                } else {                                    $location_show_icon = '';                                }                                if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_box_source2)) {                                    $User_view_icon = $obj->getMyDayTodayIcon('User_view');                                } else {                                    $User_view_icon = '';                                }                                if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source2)) {                                    $User_Interaction_icon = $obj->getMyDayTodayIcon('User_Interaction');                                } else {                                    $User_Interaction_icon = '';                                }                                if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source2)) {                                    $alert_show_icon = $obj->getMyDayTodayIcon('alert_show');                                } else {                                    $alert_show_icon = '';                                }                                if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) &&in_array('Comment', $icon_box_source2)) {                                    $comment_show_icon = $obj->getMyDayTodayIcon('comments_show');                                } else {                                    $comment_show_icon = '';                                }                                if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source2)) {                                    $user_date_icon = $obj->getMyDayTodayIcon('date_show');                                } else {                                    $user_date_icon = '';                                }                                if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source2)) {                                    $scale_show_icon = $obj->getMyDayTodayIcon('scale_show');                                } else {                                    $scale_show_icon = '';                                }                                if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3)  && in_array('Time', $icon_box_source2)) {                                    $time_show_icon = $obj->getMyDayTodayIcon('time_show');                                } else {                                    $time_show_icon = '';                                }                                if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source2)) {                                    $duration_show_icon = $obj->getMyDayTodayIcon('duration_show');                                } else {                                    $duration_show_icon = '';                                }                                if ($comment_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $comment_show_icon . '"  name="comment_show_icon_0" id="comment_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['comments_heading'] . '" onclick="ShowComment_Lo(0);">';                                }                                if ($location_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $location_show_icon . '"  name="location_show_icon_0" id="location_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['location_heading'] . '" onclick="ShowLocation_Lo(0);">';                                }                                if ($User_view_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_view_icon . '"  name="User_view_icon_0" id="User_view_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '" onclick="ShowUserview_Lo(0);">';                                }                                if ($User_Interaction_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_Interaction_icon . '"  name="User_Interaction_icon_0" id="User_Interaction_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['set_goals_heading'] . '" onclick="ShowUserInteraction_Lo(0);">';                                }                                if ($alert_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $alert_show_icon . '"  name="alert_show_icon_0" id="alert_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['reminder_heading'] . '" onclick="ShowAlert_Lo(0);">';                                }                                if ($scale_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $scale_show_icon . '"  name="scale_show_icon_lo0" id="scale_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['scale_heading'] . '" onclick="ShowScale_Lo(0);">';                                }                                if ($time_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $time_show_icon . '" name="time_show_icon_lo0" id="time_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="Select ' . $header_data[$j]['time_heading'] . '" onclick="Showtime_Lo(0);">';                                }                                if ($duration_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $duration_show_icon . '"  name="duration_show_icon_lo0" id="duration_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['duration_heading'] . '" onclick="DurationShow_Lo(0);">';                                }                                if ($user_date_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $user_date_icon . '"  name="user_date_show_icon_0" id="user_date_show_icon_lo0" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['user_date_heading'] . '" onclick="ShowUserDate_Lo(0);">';                                }                                                            }                            $outputstr.= '</p>';                                $outputstr.= '<div class="md-col-12">                                                      <input type="hidden" name="sub_cat_lo[]"  value="' . $header_data[$j]['sub_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="prof_cat_lo[]"  value="' . $header_data[$j]['prof_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="canv_show_fetch_lo[]"  value="' . $header_data[$j]['sub_cat2_show_fetch'] . '">';                                $outputstr.= '<input type="hidden" name="canv_sub_cat_link_lo[]"  value="' . $header_data[$j]['sub_cat2_link'] . '">';                                for ($x = 1;$x <= 11;$x++)                                {                                    if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source2)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="location_lo[]" id="location_lo0" style="display:none;" title="' . $header_data[$j]['location_heading'] . '">                                                          <option value="">' . $header_data[$j]['location_heading'] . '</option>                                                          ' . $obj->getFavCategoryRamakant($header_data[$j]['location_fav_cat'], '') . '                                                      </select>';                                    }                                    if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3)&& in_array('User_Response', $icon_box_source2)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_view_lo[]" id="User_view_lo0" style="display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '">                                                          <option value="">' . $header_data[$j]['like_dislike_heading'] . '</option>                                                          ' . $obj->getFavCategoryRamakant($header_data[$j]['user_response_fav_cat'], '') . '                                                      </select>';                                    }                                    if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source2)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_Interaction_lo[]" id="User_Interaction_lo0" style="display:none;" title="' . $header_data[$j]['set_goals_heading'] . '">                                                          <option value="">' . $header_data[$j]['set_goals_heading'] . '</option>                                                          ' . $obj->getFavCategoryRamakant($header_data[$j]['user_what_fav_cat'], '') . '                                                      </select>';                                    }                                    if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source2)) {                                       $outputstr.= '<select class="input-text-box input-quarter-width" name="alert_lo[]" id="alert_lo0" style="display:none;" title="' . $header_data[$j]['reminder_heading'] . '">                                                          <option value="">' . $header_data[$j]['reminder_heading'] . '</option>                                                          ' . $obj->getFavCategoryRamakant($header_data[$j]['alerts_fav_cat'], '') . '                                                      </select>';                                    }                                    if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3)  && in_array('Comment', $icon_box_source2)) {                                        $outputstr.= '<textarea  name="comment_lo[]" id="comment_lo0"  placeholder="' . $header_data[$j]['comments_heading'] . '" title="' . $header_data[$j]['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false" style="display:none;"></textarea>';                                    }                                    if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source2)) {                                       $outputstr.= '<select  class="input-text-box input-quarter-width" name="scale_lo[]" id="scale_lo0" style="display:none;" title="' . $header_data[$j]['scale_heading'] . '">                                                <option value="">' . $header_data[$j]['scale_heading'] . '</option>                                                <option value="1">1</option>                                                <option value="2">2</option>                                                <option value="3">3</option>                                                <option value="4">4</option>                                                <option value="5">5</option>                                                <option value="6">6</option>                                                <option value="7">7</option>                                                <option value="8">8</option>                                                <option value="9">9</option>                                                <option value="10">10</option>                                            </select>';                                    }                                    if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3) && in_array('Time', $icon_box_source2)) {                                         // $outputstr.= '<select  class="input-text-box input-quarter-width" name="bes_time_lo[]" id="bes_time_lo0" style="display: none;">                                         //         <option value="">' . $design_my_life_data['time_heading'] . '</option>                                         //         ' . $obj->getTimeOptionsNew('0', '23', $bes_time) . '                                         //     </select>';                                        $outputstr.= '<input type="time" class="input-text-box input-quarter-width" name="bes_time_lo[]"  id="bes_time_lo0" style="display: none;" placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                         $outputstr.= '<p class="text-danger" id="time_note_lo0" style="display:none;font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></p>';                                    }                                    if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source2)) {                                         $outputstr.= '<input type="text" name="duration_lo[]" id="duration_lo0" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false" style="display:none;">';                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit_lo[]" id="unit_lo0" title="Duration Type" style="display:none;">                                                <option value="">Select Unit</option>                                                    '.$obj->getFavCategoryRamakant('82','').'                                                </select>';                                    }                                    if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source2)) {                                        $outputstr.= '<span class="">                                          <select name="userdate_lo[]" id="userdate_lo0" onchange="toggleDateSelectionType_multiple_lo(\'userdate_lo\',0)" style="width:200px;display:none;" class="input-text-box input-quarter-width">                                              <option value="">Select Date Type</option>                                              <option value="days_of_month"';                                        if ($listing_date_type == 'days_of_month') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Month</option><option value="single_date"';                                        if ($listing_date_type == 'single_date') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Single Date</option><option value="date_range"';                                        if ($listing_date_type == 'date_range') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Date Range</option> <option value="month_wise"';                                        if ($listing_date_type == 'month_wise') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Month Wise</option><option value="days_of_week"';                                        if ($listing_date_type == 'days_of_week') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Week</option>                                                     </select>                                                     </span>';                                         $outputstr.='<span>                                            <table style="margin-top:5px;">                                            <tr id="tr_days_of_month_lo0" style="display:' . $tr_days_of_month . '">                                                    <td align="right" valign="top"><strong>Select days of month</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="days_of_month_lo0" name="days_of_month_lo[0][]" multiple="multiple" style="width:500px;" class="input-text-box input-quarter-width">';                                for ($i = 1;$i <= 31;$i++) {                                    $outputstr.= '<option value="' . $i . '"';                                    if (in_array($i, $arr_days_of_month)) {                                        $outputstr.= 'selected="selected"';                                    }                                    $outputstr.= '>' . $i . '</option>';                                }                                $outputstr.= '</select>&nbsp;*<br>                                                   You can choose more than one option by using the ctrl key.                                                  </td>                                                 </tr>';                                $outputstr.= '<tr id="tr_single_date_lo0" style="display:' . $tr_single_date . '">                                                    <td align="right" valign="top"><strong>Select Date</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <input name="single_date_lo[]" id="single_date_lo0" type="text" value="' . $single_date . '" class="input-text-box" onmouseover="callDatecalender(0)">';                                $outputstr.= '</td>                                                </tr>                                                <tr id="tr_date_range_lo0" style="display:' . $tr_date_range . '">                                                    <td align="right" valign="top"><strong>Select Date Range</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <input name="start_date_lo[]" id="start_date_lo0" type="text" value="' . $start_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender(0)"/> - <input name="end_date_lo[]" id="end_date_lo0" type="text" value="' . $end_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender(0)"/>';                                $outputstr.= '</td>                                                </tr>                                                <tr id="tr_days_of_week_lo0" style="display:' . $tr_days_of_week . '">                                                    <td align="right" valign="top"><strong>Select days of week</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="days_of_week_lo0" name="days_of_week_lo[0][]" multiple="multiple" class="input-text-box">';                                $outputstr.= $obj->getDayOfWeekOptionsMultiple($arr_days_of_week);                                $outputstr.= '</select>&nbsp;*<br>                                                        You can choose more than one option by using the ctrl key.                                                    </td>                                                </tr>';                                $outputstr.= '<tr id="tr_month_date_lo0" style="display:' . $tr_month_date . '">                                                    <td align="right" valign="top"><strong>Select Month</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="months_lo0" name="months_lo[0][]" multiple="multiple" class="input-text-box">';                                $outputstr.= $obj->getMonthsOptionsMultiple($arr_month);                                $outputstr.= '</select>&nbsp;*<br>                                                        You can choose more than one option by using the ctrl key.                                                    </td>                                                </tr>                                                </table>                                            </span><br>';                                    }                                }                                                                        $outputstr.= '</div><br>';                    }                } //icon type end                elseif($design_my_life_data['icon_box2']==2 || $design_my_life_data['icon_box2']==3)                {                       $icon_box_source2=explode(',', $design_my_life_data['icon_box_source2']);                    //$icon_data_dropdown="";                        for ($x = 1;$x <= 11;$x++)                         {	                        	                            if (in_array('Location', $icon_box_source2) && $design_my_life_data['location_order_show'] == $x && ($design_my_life_data['location_show']  == 1 || $design_my_life_data['location_show'] == 3)) {                                                                $icon_data_dropdown1=$obj->getFavCategoryShortData($design_my_life_data['location_fav_cat']);                                if(!empty($icon_data_dropdown1))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['location_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="location_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="location_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                                                            }                            if (in_array('User_Response', $icon_box_source2) && $design_my_life_data['like_dislike_order_show'] == $x && ($design_my_life_data['User_view']  == 1 || $design_my_life_data['User_view'] == 3)) {                                     $icon_data_dropdown2=$obj->getFavCategoryShortData($design_my_life_data['user_response_fav_cat']);                                if(!empty($icon_data_dropdown2))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['like_dislike_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_view_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_view_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                            }                            if (in_array('User_What_Next', $icon_box_source2) && $design_my_life_data['set_goals_order_show'] == $x && ($design_my_life_data['User_Interaction']  == 1 || $design_my_life_data['User_Interaction'] == 3)) {                                                                 $icon_data_dropdown3=$obj->getFavCategoryShortData($design_my_life_data['user_what_fav_cat']);                                if(!empty($icon_data_dropdown3))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['set_goals_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_Interaction_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_Interaction_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                            }                            if (in_array('Alert_Update', $icon_box_source2) && $design_my_life_data['reminder_order_show'] == $x && ($design_my_life_data['alert_show']  == 1 || $design_my_life_data['alert_show'] == 3)) {                                $icon_data_dropdown4=$obj->getFavCategoryShortData($design_my_life_data['alerts_fav_cat']);                                if(!empty($icon_data_dropdown4))                                {                                	$outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['reminder_heading'].'</h6>';                                	$outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="alert_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="alert_lo[0][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    		                                	$outputstr.= '</div>';                                }                            }                                                    }                        $outputstr.='<p style="clear: both;"><br></p>';            			for ($x = 1;$x <= 11;$x++)                         {                        	if (in_array('Comment', $icon_box_source2) && $design_my_life_data['comment_order_show'] == $x && ($design_my_life_data['comment_show']  == 1 || $design_my_life_data['comment_show'] == 3)) {                                $outputstr.= '<p><textarea  name="comment_SP[]" id="comment_SP'.$key.'"  placeholder="' . $design_my_life_data['comments_heading'] . '" title="' . $design_my_life_data['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false"></textarea></p>';                            }                            if (in_array('Scale', $icon_box_source2) && $design_my_life_data['scale_order_show'] == $x && ($design_my_life_data['scale_show']  == 1 || $design_my_life_data['scale_show'] == 3)) {                               $outputstr.= '<p><select  class="input-text-box input-quarter-width" name="scale_lo[]"  title="' . $design_my_life_data['scale_heading'] . '">                                        <option value="">' . $design_my_life_data['scale_heading'] . '</option>                                        <option value="1">1</option>                                        <option value="2">2</option>                                        <option value="3">3</option>                                        <option value="4">4</option>                                        <option value="5">5</option>                                        <option value="6">6</option>                                        <option value="7">7</option>                                        <option value="8">8</option>                                        <option value="9">9</option>                                        <option value="10">10</option>                                    </select></p>';                            }                            if (in_array('Time', $icon_box_source2) && $design_my_life_data['time_order_show'] == $x && ($design_my_life_data['time_show']  == 1 || $design_my_life_data['time_show'] == 3)) {                                $outputstr.= '<p><input type="time" class="input-text-box input-quarter-width" name="bes_time_lo[]"   placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                 $outputstr.= '<span class="text-danger"  style="font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></sapn></p>';                            }                            if (in_array('Duration', $icon_box_source2) && $design_my_life_data['duration_order_show'] == $x && ($design_my_life_data['duration_show']  == 1 || $design_my_life_data['duration_show'] == 3)) {                                 $outputstr.= '<p><input type="text" name="duration_lo[]"  onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false">';                                $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit_lo[]"  title="Duration Type">                                        <option value="">Select Unit</option>                                            '.$obj->getFavCategoryRamakant('82','').'                                        </select></p>';                            }                        }                }                else                {                    $outputstr.= '<br>';                }                $outputstr.= '</div><br>';            }            //add by ample 13-04-20            if($design_my_life_data['special_text_position']=='Bottom')            {                $outputstr.=$special_html;            }                        //                             if($design_my_life_data['user_upload_show'] == 1)            //            //                             {            //            //                                 $outputstr .=' <a href="user_uploads.php?ref_code='.$ref_num.'&box_title='.$design_my_life_data['box_title'].'&sub_cat_id='.$sub_cat_id.'" class="active" target="_blank" title="We would like to hear your innovative suggestions."><span style="background: #007fff;color: #fff; border: 2px solid #4e4e4e; border-radius: 15px; height: 50px; padding: 5px;">Share your inputs</span></a>            //            //                                 <br><br>';            //            //            //            //                             }                         //add by ample 13-04-20            if($design_my_life_data['banner_position']=='Bottom')            {                $outputstr.=$banner_html;            }            if($access_btn==1)            {                $outputstr.= '                                <div style="text-align:center;">                                <button type="submit" name="btn_submit" id="DLY_submit" class="active" style="background-color:orange;">Submit</button>                                </div>                                </form>                                </div>';            }            else            {               $outputstr.= '                                <div style="text-align:center;">                                <button type="button" name="btn_submit" onclick="plan_msg()" class="active" style="background-color:orange;">Submit</button>                                </div>                                </form>                                </div>';            }                                    $outputstr.= '<script> $("#comment_main").Editor();                                                                 $( ".Editor-editor" ).mouseleave(function() {                                   var str = $( ".Editor-editor" ).html();                                    $("#comment_main").val(str);                                });                                    $("input").on("focus", function(e)                                     {                                      e.preventDefault();                                      $(this).attr("autocomplete", "off");                                       });                                     $(document).ready(function() {                                        $("input").attr("autocomplete","off");                                    });                                                                     </script> ';        }    }    echo $outputstr;    exit(0);} else if ($action == 'getProfCat2DataDesignLife') {    //update ample 22-04-20 (time/note/duration/unit)    $sub_cat_id = $_REQUEST['sub_cat_id'];    $cat_cnt = $_REQUEST['cat_cnt'];    $day_month_year = date("Y-m-d");    $get_design_data = $obj->GETDesignData($sub_cat_id, $day_month_year);    $outputstr='';        $tr_days_of_month = 'none';        $tr_single_date = 'none';        $tr_date_range = 'none';        $tr_month_date = 'none';        $tr_days_of_week = 'none';    if (count($get_design_data) > 0) {        for ($j = 0;$j < count($get_design_data);$j++) {            $design_my_life_data = $obj->GetDesignMyLifeDatabyRef($get_design_data[$j]['ref_code']);            $header_data = $obj->GetHeaderDatabyPageKR($get_design_data[$j]['ref_code']);                            //add by ample 26-05-20                $qr_data_source=explode(',', $design_my_life_data['qr_data_source']);                $data_dropdown="";                if(in_array('ProfCat2', $qr_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat2'], $design_my_life_data['sub_cat2_show_fetch'], $design_my_life_data['sub_cat2_link'], $design_my_life_data['prof_cat2_ref_code'], $design_my_life_data['prof_cat2_uid']);                }                if(in_array('ProfCat3', $qr_data_source))                {                    $data_dropdown.=$obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat3'], $design_my_life_data['sub_cat3_show_fetch'], $design_my_life_data['sub_cat3_link'], $design_my_life_data['prof_cat3_ref_code'], $design_my_life_data['prof_cat3_uid']);                }                if(in_array('ProfCat4', $qr_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat4'], $design_my_life_data['sub_cat4_show_fetch'], $design_my_life_data['sub_cat4_link'], $design_my_life_data['prof_cat4_ref_code'], $design_my_life_data['prof_cat4_uid']);                }                //add by ample 26-05-20            $outputstr .=  '<div id="row_loc_'.$cat_cnt.'">                                             <span>';                                               //new condition add by ample 25-05-20                            if($design_my_life_data['qr_box_type']==2)                            {                                 $outputstr.= '<input type="text" ' . $required . ' name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" list="capitals_' . $cat_cnt . '" class="input-text-box dlist" style="width:535px;" onchange="Display_Solution(' . $cat_cnt . ')" autocomplete="off"/>                               <datalist id="capitals_' . $cat_cnt . '" class="dlist" style="">                                    ' . $data_dropdown . '                                 </datalist>';                            }                            elseif($design_my_life_data['qr_box_type']==3)                            {                                $outputstr.= '<input type="text" name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" class="input-text-box " style="width:500px;" autocomplete="off"/>                                    <a href="javascript:void(0);" onclick="openExampleBox('.$design_my_life_data['id'].','."'QR'".',\''.$design_my_life_data['prof_cat2_heading'].'\');" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="'.$design_my_life_data['prof_cat2_heading'].'" data-original-title=""><i class="fa fa-question"></i></a>';                             }                            elseif($design_my_life_data['qr_box_type']==4)                            {                                $outputstr.= '<input type="text" name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" class="input-text-box " value="'.$design_my_life_data['qr_specifiq_text'].'" style="width:535px;" readonly/>                                   ';                             }                            else                            {                                $outputstr.= '<input type="text" name="fav_cat_2[]" id="fav_cat_2_' . $cat_cnt . '" placeholder="'.$design_my_life_data['quick_response_heading'].'" class="input-text-box " style="width:535px;" autocomplete="off"/>';                            }                                     $outputstr.= '</span>                                                <span>                                                       &nbsp;<a href="javascript:void(0);" onclick="removeRowLocation('.$cat_cnt.');" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="Remove it" data-original-title=""><i class="fa fa-minus"></i></a>                                                           </span>                                                <a href="javascript:void(0);" onclick="erase_input('.$cat_cnt.');"><i class="fa fa-eraser" id="erase_icon'.$cat_cnt.'" aria-hidden="true" style="font-size: 15px;"></i></a>                                       <span style="margin-left:100px;" id="comment_backend_'.$cat_cnt.'"></span>';                                    //add new condtion type 26-05-20                                    if($design_my_life_data['icon_box1']==1)                     {                                       $outputstr.= ' <br>&nbsp;<a href="javascript:void(0);" onclick="Showloop('.$cat_cnt.');"><i class="fa fa-eye" id="eyes'.$cat_cnt.'" style="cursor: pointer;" title="Click here for user action"></i></a>                                                            ';                 //update by ample 13-01-20 & update 06-07-20                        for ($j = 0;$j < count($header_data);$j++) {                            $icon_box_source1=explode(',', $header_data[$j]['icon_box_source1']);                            $keyworddata_implode_data = array();                            $exclusion_name = $obj->getExclusionAllName();                           for ($x = 1;$x <= 11;$x++) {                                if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source1)) {                                    $location_show_icon = $obj->getMyDayTodayIcon('location_show');                                } else {                                    $location_show_icon = '';                                }                                if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_box_source1)) {                                    $User_view_icon = $obj->getMyDayTodayIcon('User_view');                                } else {                                    $User_view_icon = '';                                }                                if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source1)) {                                    $User_Interaction_icon = $obj->getMyDayTodayIcon('User_Interaction');                                } else {                                    $User_Interaction_icon = '';                                }                                if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source1)) {                                    $alert_show_icon = $obj->getMyDayTodayIcon('alert_show');                                } else {                                    $alert_show_icon = '';                                }                                if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) &&in_array('Comment', $icon_box_source1)) {                                    $comment_show_icon = $obj->getMyDayTodayIcon('comments_show');                                } else {                                    $comment_show_icon = '';                                }                                if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source1)) {                                    $user_date_icon = $obj->getMyDayTodayIcon('date_show');                                } else {                                    $user_date_icon = '';                                }                                if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source1)) {                                    $scale_show_icon = $obj->getMyDayTodayIcon('scale_show');                                } else {                                    $scale_show_icon = '';                                }                                if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3) && in_array('Time', $icon_box_source1)) {                                    $time_show_icon = $obj->getMyDayTodayIcon('time_show');                                } else {                                    $time_show_icon = '';                                }                                if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source1) ) {                                    $duration_show_icon = $obj->getMyDayTodayIcon('duration_show');                                } else {                                    $duration_show_icon = '';                                }                                 // echo "<pre>";print_r($header_data);echo "</pre>";                                                         if ($comment_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $comment_show_icon . '"  name="comment_show_icon_'.$cat_cnt.'" id="comment_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['comments_heading'] . '" onclick="ShowComment('.$cat_cnt.');">';                                }                                if ($location_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $location_show_icon . '"  name="location_show_icon_'.$cat_cnt.'" id="location_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['location_heading'] . '" onclick="ShowLocation('.$cat_cnt.');">';                                }                                if ($User_view_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_view_icon . '"  name="User_view_icon_'.$cat_cnt.'" id="User_view_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '" onclick="ShowUserview('.$cat_cnt.');">';                                }                                if ($User_Interaction_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_Interaction_icon . '"  name="User_Interaction_icon_'.$cat_cnt.'" id="User_Interaction_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['set_goals_heading'] . '" onclick="ShowUserInteraction('.$cat_cnt.');">';                                }                                if ($alert_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $alert_show_icon . '"  name="alert_show_icon_'.$cat_cnt.'" id="alert_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['reminder_heading'] . '" onclick="ShowAlert('.$cat_cnt.');">';                                }                                if ($scale_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $scale_show_icon . '"  name="scale_show_icon_'.$cat_cnt.'" id="scale_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['scale_heading'] . '" onclick="ShowScale('.$cat_cnt.');">';                                }                                if ($time_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $time_show_icon . '" name="time_show_icon_'.$cat_cnt.'" id="time_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="Select ' . $header_data[$j]['time_heading'] . '" onclick="Showtime('.$cat_cnt.');">';                                }                                if ($duration_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $duration_show_icon . '"  name="duration_show_icon_'.$cat_cnt.'" id="duration_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['duration_heading'] . '" onclick="DurationShow('.$cat_cnt.');">';                                }                                if ($user_date_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $user_date_icon . '"  name="user_date_show_icon_'.$cat_cnt.'" id="user_date_show_icon_'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['user_date_heading'] . '" onclick="ShowUserDate('.$cat_cnt.');">';                                }                                                            }                                                           $outputstr.= '</p>';                                $outputstr.= '<div class="md-col-12">                                                <input type="hidden" name="sub_cat[]"  value="' . $header_data[$j]['sub_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="prof_cat[]"  value="' . $header_data[$j]['prof_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="canv_show_fetch[]"  value="' . $header_data[$j]['sub_cat2_show_fetch'] . '">';                                $outputstr.= '<input type="hidden" name="canv_sub_cat_link[]"  value="' . $header_data[$j]['sub_cat2_link'] . '">';                                for ($x=0; $x < 11; $x++) {                                     if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source1)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="location[]" id="location_'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['location_heading'] . '">                                                    <option value="">' . $header_data[$j]['location_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['location_fav_cat'], '') . '                                                </select>';                                }                                                                 if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_box_source1)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_view[]" id="User_view_'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '">                                                    <option value="">' . $header_data[$j]['like_dislike_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['user_response_fav_cat'], '') . '                                                </select>';                                }                                if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source1)) {                                         $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_Interaction[]" id="User_Interaction_'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['set_goals_heading'] . '">                                                    <option value="">' . $header_data[$j]['set_goals_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['user_what_fav_cat'], '') . '                                                </select>';                                    }                                if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source1)) {                                        $outputstr.= '<select class="input-text-box input-quarter-width" name="alert[]" id="alert_'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['reminder_heading'] . '">                                                    <option value="">' . $header_data[$j]['reminder_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['alerts_fav_cat'], '') . '                                                </select>';                                }                                if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) &&in_array('Comment', $icon_box_source1)) {                                    $outputstr.= '<textarea  name="comment[]" id="comment_'.$cat_cnt.'"  placeholder="' . $header_data[$j]['comments_heading'] . '" title="' . $header_data[$j]['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false" style="display:none;"></textarea>';                                                                    }                                if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source1)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="scale[]" id="scale_'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['scale_heading'] . '">                                                <option value="">' . $header_data[$j]['scale_heading'] . '</option>                                                <option value="1">1</option>                                                <option value="2">2</option>                                                <option value="3">3</option>                                                <option value="4">4</option>                                                <option value="5">5</option>                                                <option value="6">6</option>                                                <option value="7">7</option>                                                <option value="8">8</option>                                                <option value="9">9</option>                                                <option value="10">10</option>                                            </select>';                                }                                if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3) && in_array('Time', $icon_box_source1)) {                                        // $outputstr.= '<select  class="input-text-box input-quarter-width" name="bes_time[]" id="bes_time_'.$cat_cnt.'" style="display: none;">                                        //          <option value="">' . $design_my_life_data['time_heading'] . '</option>                                        //          ' . $obj->getTimeOptionsNew('0', '23', $bes_time) . '                                        //      </select>';                                    $outputstr.= '<input type="time" class="input-text-box input-quarter-width" name="bes_time[]" id="bes_time_'.$cat_cnt.'" style="display: none;" placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                        $outputstr.= '<p class="text-danger" id="time_note_'.$cat_cnt.'" style="display:none;font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></p>';                                }                                if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3)&& in_array('Duration', $icon_box_source1)) {                                                                              $outputstr.= '<input type="text" name="duration[]" id="duration_'.$cat_cnt.'" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false" style="display:none;">';                                      $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit[]" id="unit_'.$cat_cnt.'" title="Duration Type" style="display:none;">                                                <option value="">Select Unit</option>                                                    '.$obj->getFavCategoryRamakant('82','').'                                                </select>';                                }                                if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source1)) {                                                                         $outputstr.= '<span class="">                                          <select name="userdate[]" id="userdate_'.$cat_cnt.'" onchange="toggleDateSelectionType_multiple(\'userdate_\','.$cat_cnt.')" style="width:200px;display:none;" class="input-text-box input-quarter-width">                                              <option value="">Select Date Type</option>                                              <option value="days_of_month"';                                        if ($listing_date_type == 'days_of_month') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Month</option><option value="single_date"';                                        if ($listing_date_type == 'single_date') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Single Date</option><option value="date_range"';                                        if ($listing_date_type == 'date_range') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Date Range</option> <option value="month_wise"';                                        if ($listing_date_type == 'month_wise') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Month Wise</option><option value="days_of_week"';                                        if ($listing_date_type == 'days_of_week') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Week</option>                                                     </select>                                                     </span>';                                        $outputstr.='<span>                                            <table style="margin-top:5px;">                                            <tr id="tr_days_of_month_'.$cat_cnt.'" style="display:' . $tr_days_of_month . '">                                                    <td align="right" valign="top"><strong>Select days of month</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="days_of_month'.$cat_cnt.'" name="days_of_month['.$cat_cnt.'][]" multiple="multiple" style="width:500px;" class="input-text-box input-quarter-width">';                                for ($i = 1;$i <= 31;$i++) {                                    $outputstr.= '<option value="' . $i . '"';                                    if (in_array($i, $arr_days_of_month)) {                                        $outputstr.= 'selected="selected"';                                    }                                    $outputstr.= '>' . $i . '</option>';                                }                                $outputstr.= '</select>&nbsp;*<br>                                                   You can choose more than one option by using the ctrl key.                                                  </td>                                                 </tr>';                                $outputstr.= '<tr id="tr_single_date_'.$cat_cnt.'" style="display:' . $tr_single_date . '">                                                    <td align="right" valign="top"><strong>Select Date</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <input name="single_date[]" id="single_date'.$cat_cnt.'" type="text" value="' . $single_date . '" class="input-text-box" onmouseover="callDatecalender('.$cat_cnt.')">';                                $outputstr.= '</td>                                                </tr>                                                <tr id="tr_date_range_'.$cat_cnt.'" style="display:' . $tr_date_range . '">                                                    <td align="right" valign="top"><strong>Select Date Range</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <input name="start_date[]" id="start_date'.$cat_cnt.'" type="text" value="' . $start_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender('.$cat_cnt.')"/> - <input name="end_date[]" id="end_date'.$cat_cnt.'" type="text" value="' . $end_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender('.$cat_cnt.')" />';                                $outputstr.= '</td>                                                </tr>                                                <tr id="tr_days_of_week_'.$cat_cnt.'" style="display:' . $tr_days_of_week . '">                                                <td align="right" valign="top"><strong>Select days of week</strong></td>                                                <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="days_of_week'.$cat_cnt.'" name="days_of_week['.$cat_cnt.'][]" multiple="multiple" class="input-text-box">';                                $outputstr.= $obj->getDayOfWeekOptionsMultiple($arr_days_of_week);                                $outputstr.= '</select>&nbsp;*<br>                                                        You can choose more than one option by using the ctrl key.                                                    </td>                                                </tr>';                                $outputstr.= '<tr id="tr_month_date_'.$cat_cnt.'" style="display:' . $tr_month_date . '">                                                    <td align="right" valign="top"><strong>Select Month</strong></td>                                                    <td align="center" valign="top"><strong>:</strong></td>                                                    <td align="left">                                                        <select id="months'.$cat_cnt.'" name="months['.$cat_cnt.'][]" multiple="multiple" class="input-text-box">';                                $outputstr.= $obj->getMonthsOptionsMultiple($arr_month);                                $outputstr.= '</select>&nbsp;*<br>                                                        You can choose more than one option by using the ctrl key.                                                    </td>                                                </tr>                                                </table>                                        </span></div>';                                    }                                                                    }                                                                    $outputstr.= '                                       <br>                                    </div>';                            }                        }                    elseif($design_my_life_data['icon_box1']==2 || $design_my_life_data['icon_box1']==3)                    {                           $icon_box_source1=explode(',', $design_my_life_data['icon_box_source1']);                     //$icon_data_dropdown="";                        for ($x = 1;$x <= 11;$x++)                         {	                        	                           if (in_array('Location', $icon_source) && $design_my_life_data['location_order_show'] == $x && ($design_my_life_data['location_show']  == 1 || $design_my_life_data['location_show'] == 3)) {                                                                $icon_data_dropdown1=$obj->getFavCategoryShortData($design_my_life_data['location_fav_cat']);                                if(!empty($icon_data_dropdown1))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['location_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="location['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="location['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                                                            }                            if (in_array('User_Response', $icon_box_source1) && $design_my_life_data['like_dislike_order_show'] == $x && ($design_my_life_data['User_view']  == 1 || $design_my_life_data['User_view'] == 3)) {                                     $icon_data_dropdown2=$obj->getFavCategoryShortData($design_my_life_data['user_response_fav_cat']);                                if(!empty($icon_data_dropdown2))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['like_dislike_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_view['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_view['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                            }                            if (in_array('User_What_Next', $icon_box_source1) && $design_my_life_data['set_goals_order_show'] == $x && ($design_my_life_data['User_Interaction']  == 1 || $design_my_life_data['User_Interaction'] == 3)) {                                                                 $icon_data_dropdown3=$obj->getFavCategoryShortData($design_my_life_data['user_what_fav_cat']);                                if(!empty($icon_data_dropdown3))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['set_goals_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_Interaction['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_Interaction['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                            }                            if (in_array('Alert_Update', $icon_box_source1) && $design_my_life_data['reminder_order_show'] == $x && ($design_my_life_data['alert_show']  == 1 || $design_my_life_data['alert_show'] == 3)) {                                $icon_data_dropdown4=$obj->getFavCategoryShortData($design_my_life_data['alerts_fav_cat']);                                if(!empty($icon_data_dropdown4))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['reminder_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box1']==2)                                    {                                         foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="alert['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box1']==3)                                    {                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="alert['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                            }                                                    }                        $outputstr.='<p style="clear: both;"><br></p>';            			for ($x = 1;$x <= 11;$x++)                         {                        	if (in_array('Comment', $icon_box_source1) && $design_my_life_data['comment_order_show'] == $x && ($design_my_life_data['comment_show']  == 1 || $design_my_life_data['comment_show'] == 3)) {                                $outputstr.= '<p><textarea  name="comment_SP[]" id="comment_SP'.$key.'"  placeholder="' . $design_my_life_data['comments_heading'] . '" title="' . $design_my_life_data['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false"></textarea></p>';                            }                            if (in_array('Scale', $icon_box_source1) && $design_my_life_data['scale_order_show'] == $x && ($design_my_life_data['scale_show']  == 1 || $design_my_life_data['scale_show'] == 3)) {                               $outputstr.= '<p><select  class="input-text-box input-quarter-width" name="scale[]"  title="' . $design_my_life_data['scale_heading'] . '">                                        <option value="">' . $design_my_life_data['scale_heading'] . '</option>                                        <option value="1">1</option>                                        <option value="2">2</option>                                        <option value="3">3</option>                                        <option value="4">4</option>                                        <option value="5">5</option>                                        <option value="6">6</option>                                        <option value="7">7</option>                                        <option value="8">8</option>                                        <option value="9">9</option>                                        <option value="10">10</option>                                    </select></p>';                            }                            if (in_array('Time', $icon_box_source1) && $design_my_life_data['time_order_show'] == $x && ($design_my_life_data['time_show']  == 1 || $design_my_life_data['time_show'] == 3)) {                                $outputstr.= '<p><input type="time" class="input-text-box input-quarter-width" name="bes_time[]"   placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                 $outputstr.= '<span class="text-danger"  style="font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></sapn></p>';                            }                            if (in_array('Duration', $icon_box_source1) && $design_my_life_data['duration_order_show'] == $x && ($design_my_life_data['duration_show']  == 1 || $design_my_life_data['duration_show'] == 3)) {                                 $outputstr.= '<p><input type="text" name="duration[]"  onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false">';                                $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit[]"  title="Duration Type">                                        <option value="">Select Unit</option>                                            '.$obj->getFavCategoryRamakant('82','').'                                        </select></p>';                            }                        }                    }                    else                    {                        $outputstr.= '<br></div>';                    }                             $outputstr.= '<script>                                     $("input").on("focus", function(e)                                     {                                      e.preventDefault();                                      $(this).attr("autocomplete", "off");                                       });                                     $(document).ready(function() {                                        $("input").attr("autocomplete","off");                                    });                                                                     </script> ';                                          }    }             echo $outputstr;    exit(0);          } else if ($action == 'getInputDataDesignLife') {       //update ample 22-04-20 (time/note/duration/unit)        $sub_cat_id = $_REQUEST['sub_cat_id'];    $cat_cnt = $_REQUEST['cat_cnt'];    $day_month_year = date("Y-m-d");    $get_design_data = $obj->GETDesignData($sub_cat_id, $day_month_year);    $outputstr='';        $tr_days_of_month = 'none';        $tr_single_date = 'none';        $tr_date_range = 'none';        $tr_month_date = 'none';        $tr_days_of_week = 'none';    if (count($get_design_data) > 0) {        for ($j = 0;$j < count($get_design_data);$j++) {            $design_my_life_data = $obj->GetDesignMyLifeDatabyRef($get_design_data[$j]['ref_code']);            $header_data = $obj->GetHeaderDatabyPageKR($get_design_data[$j]['ref_code']);             $other_data_source=explode(',', $design_my_life_data['other_data_source']);                $data_dropdown="";                if(in_array('ProfCat2', $other_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat2'], $design_my_life_data['sub_cat2_show_fetch'], $design_my_life_data['sub_cat2_link'], $design_my_life_data['prof_cat2_ref_code'], $design_my_life_data['prof_cat2_uid']);                }                if(in_array('ProfCat3', $other_data_source))                {                    $data_dropdown.=$obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat3'], $design_my_life_data['sub_cat3_show_fetch'], $design_my_life_data['sub_cat3_link'], $design_my_life_data['prof_cat3_ref_code'], $design_my_life_data['prof_cat3_uid']);                }                if(in_array('ProfCat4', $other_data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat4'], $design_my_life_data['sub_cat4_show_fetch'], $design_my_life_data['sub_cat4_link'], $design_my_life_data['prof_cat4_ref_code'], $design_my_life_data['prof_cat4_uid']);                }             $outputstr.=  '<div id="row_inp_'.$cat_cnt.'">                                                                                                   <span>';                                //new condition add by ample 25-05-20                            if($design_my_life_data['other_box_type']==2)                            {                                 $outputstr.= '<input type="text" ' . $required . ' name="user_input[]" id="user_input_' . $cat_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" list="capitals_' . $cat_cnt . '" class="input-text-box dlist" style="width:535px;" onchange="Display_Solution(' . $cat_cnt . ')" autocomplete="off"/>                               <datalist id="capitals_' . $cat_cnt . '" class="dlist" style="">                                    ' . $data_dropdown . '                                 </datalist>';                            }                            elseif($design_my_life_data['other_box_type']==3)                            {                                $outputstr.= '<input type="text" name="user_input[]" id="user_input_' . $cat_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" class="input-text-box " style="width:500px;" autocomplete="off"/>                                    <a href="javascript:void(0);" onclick="openExampleBox('.$design_my_life_data['id'].','."'OT'".',\''.$design_my_life_data['prof_cat3_heading'].'\');" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="'.$design_my_life_data['prof_cat3_heading'].'" data-original-title=""><i class="fa fa-question"></i></a>';                             }                            elseif($design_my_life_data['other_box_type']==4)                            {                                $outputstr.= '<input type="text" name="user_input[]" id="user_input_' . $cat_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" class="input-text-box " value="'.$design_my_life_data['other_specifiq_text'].'" style="width:535px;" readonly/>                                   ';                             }                            else                            {                                $outputstr.= '<input type="text" name="user_input[]" id="user_input_' . $cat_cnt . '" placeholder="'.$design_my_life_data['response_heading'].'" class="input-text-box " style="width:535px;" autocomplete="off"/>';                            }                                                                                 $outputstr.= '&nbsp;<a href="javascript:void(0);" onclick="removeRowLoc('.$cat_cnt.');" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="top" title="Remove it" data-original-title=""><i class="fa fa-minus"></i></a>                                                         <a href="javascript:void(0);" onclick="erase_inputs('.$cat_cnt.');"><i class="fa fa-eraser" id="erase_icon'.$cat_cnt.'" aria-hidden="true" style="font-size: 15px;"></i></a>                                         </span>';                    if($design_my_life_data['icon_box2']==1)                         {                            $outputstr.='<br>&nbsp;<a href="javascript:void(0);" onclick="ShowloopLoc('.$cat_cnt.');"><i class="fa fa-eye" id="eyes'.$cat_cnt.'" style="cursor: pointer;" title="Click here for user action"></i></a>';                 //update by ample 13-01-20                        for ($j = 0;$j < count($header_data);$j++) {                            $icon_box_source2=explode(',', $header_data[$j]['icon_box_source2']);                            $keyworddata_implode_data = array();                            $exclusion_name = $obj->getExclusionAllName();                           for ($x = 1;$x <= 11;$x++) {                                if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source2)) {                                    $location_show_icon = $obj->getMyDayTodayIcon('location_show');                                } else {                                    $location_show_icon = '';                                }                                if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3) && in_array('User_Response', $icon_box_source2)) {                                    $User_view_icon = $obj->getMyDayTodayIcon('User_view');                                } else {                                    $User_view_icon = '';                                }                                if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3) && in_array('User_What_Next', $icon_box_source2)) {                                    $User_Interaction_icon = $obj->getMyDayTodayIcon('User_Interaction');                                } else {                                    $User_Interaction_icon = '';                                }                                if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source2)) {                                    $alert_show_icon = $obj->getMyDayTodayIcon('alert_show');                                } else {                                    $alert_show_icon = '';                                }                                if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) &&in_array('Comment', $icon_box_source2)) {                                    $comment_show_icon = $obj->getMyDayTodayIcon('comments_show');                                } else {                                    $comment_show_icon = '';                                }                                if ($header_data[$j]['user_date_order_show'] == $x &&($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source2)) {                                    $user_date_icon = $obj->getMyDayTodayIcon('date_show');                                } else {                                    $user_date_icon = '';                                }                                if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source2)) {                                    $scale_show_icon = $obj->getMyDayTodayIcon('scale_show');                                } else {                                    $scale_show_icon = '';                                }                                if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3)  && in_array('Time', $icon_box_source2)) {                                    $time_show_icon = $obj->getMyDayTodayIcon('time_show');                                } else {                                    $time_show_icon = '';                                }                                if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source2)) {                                    $duration_show_icon = $obj->getMyDayTodayIcon('duration_show');                                } else {                                    $duration_show_icon = '';                                }                                 // echo "<pre>";print_r($header_data);echo "</pre>";                                                                                         if ($comment_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $comment_show_icon . '"  name="comment_show_icon_lo'.$cat_cnt.'" id="comment_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['comments_heading'] . '" onclick="ShowComment_Lo('.$cat_cnt.');">';                                }                                if ($location_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $location_show_icon . '"  name="location_show_icon_lo'.$cat_cnt.'" id="location_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['location_heading'] . '" onclick="ShowLocation_Lo('.$cat_cnt.');">';                                }                                if ($User_view_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_view_icon . '"  name="User_view_icon_lo'.$cat_cnt.'" id="User_view_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '" onclick="ShowUserview_Lo('.$cat_cnt.');">';                                }                                if ($User_Interaction_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $User_Interaction_icon . '"  name="User_Interaction_icon_lo'.$cat_cnt.'" id="User_Interaction_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['set_goals_heading'] . '" onclick="ShowUserInteraction_Lo('.$cat_cnt.');">';                                }                                if ($alert_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $alert_show_icon . '"  name="alert_show_icon_lo'.$cat_cnt.'" id="alert_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['reminder_heading'] . '" onclick="ShowAlert_Lo('.$cat_cnt.');">';                                }                                if ($scale_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $scale_show_icon . '"  name="scale_show_icon_lo'.$cat_cnt.'" id="scale_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['scale_heading'] . '" onclick="ShowScale_Lo('.$cat_cnt.');">';                                }                                if ($time_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $time_show_icon . '" name="time_show_icon_lo'.$cat_cnt.'" id="time_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="Select ' . $header_data[$j]['time_heading'] . '" onclick="Showtime_Lo('.$cat_cnt.');">';                                }                                if ($duration_show_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $duration_show_icon . '"  name="duration_show_icon_lo'.$cat_cnt.'" id="duration_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['duration_heading'] . '" onclick="DurationShow_Lo('.$cat_cnt.');">';                                }                                if ($user_date_icon != '') {                                    $outputstr.= '&nbsp;&nbsp;&nbsp;<img src="uploads/' . $user_date_icon . '"  name="user_date_show_icon_lo'.$cat_cnt.'" id="user_date_show_icon_lo'.$cat_cnt.'" style="width:25px; height: 25px; display:none;" title="' . $header_data[$j]['user_date_heading'] . '" onclick="ShowUserDate_Lo('.$cat_cnt.');">';                                }                                                            }                                                           $outputstr.= '</p>';                                $outputstr.= '<div class="md-col-12">                                              <input type="hidden" name="sub_cat_lo[]"  value="' . $header_data[$j]['sub_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="prof_cat_lo[]"  value="' . $header_data[$j]['prof_cat2'] . '">';                                $outputstr.= '<input type="hidden" name="canv_show_fetch_lo[]"  value="' . $header_data[$j]['sub_cat2_show_fetch'] . '">';                                $outputstr.= '<input type="hidden" name="canv_sub_cat_link_lo[]"  value="' . $header_data[$j]['sub_cat2_link'] . '">';                                for ($x = 1;$x <= 11;$x++) {                                        if ($header_data[$j]['comment_order_show'] == $x && ($header_data[$j]['comment_show']  == 1 || $header_data[$j]['comment_show'] == 3) && in_array('Comment', $icon_box_source2)) {                                            $outputstr.= '<textarea   name="comment_lo[]" id="comment_lo'.$cat_cnt.'"  placeholder="' . $header_data[$j]['comments_heading'] . '" title="' . $header_data[$j]['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false" style="display:none;"></textarea>';                                        }                                         if ($header_data[$j]['location_order_show'] == $x && ($header_data[$j]['location_show']  == 1 || $header_data[$j]['location_show'] == 3) && in_array('Location', $icon_box_source2)) {                                            $outputstr.= '<select  class="input-text-box input-quarter-width" name="location_lo[]" id="location_lo'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['location_heading'] . '">                                                    <option value="">' . $header_data[$j]['location_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['location_fav_cat'], '') . '                                                </select>';                                         }                                                                        if ($header_data[$j]['like_dislike_order_show'] == $x && ($header_data[$j]['User_view']  == 1 || $header_data[$j]['User_view'] == 3)&& in_array('User_Response', $icon_box_source2)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_view_lo[]" id="User_view_lo'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['like_dislike_heading'] . '">                                                    <option value="">' . $header_data[$j]['like_dislike_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['user_response_fav_cat'], '') . '                                                </select>';                                    }                                                                        if ($header_data[$j]['set_goals_order_show'] == $x && ($header_data[$j]['User_Interaction']  == 1 || $header_data[$j]['User_Interaction'] == 3)  && in_array('User_What_Next', $icon_box_source2)) {                                         $outputstr.= '<select  class="input-text-box input-quarter-width" name="User_Interaction_lo[]" id="User_Interaction_lo'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['set_goals_heading'] . '">                                                    <option value="">' . $header_data[$j]['set_goals_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['user_what_fav_cat'], '') . '                                                </select>';                                    }                                                                        if ($header_data[$j]['reminder_order_show'] == $x && ($header_data[$j]['alert_show']  == 1 || $header_data[$j]['alert_show'] == 3) && in_array('Alert_Update', $icon_box_source2)) {                                        $outputstr.= '<select class="input-text-box input-quarter-width" name="alert_lo[]" id="alert_lo'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['reminder_heading'] . '">                                                    <option value="">' . $header_data[$j]['reminder_heading'] . '</option>                                                    ' . $obj->getFavCategoryRamakant($header_data[$j]['alerts_fav_cat'], '') . '                                                </select>';                                    }                                                                       if ($header_data[$j]['scale_order_show'] == $x && ($header_data[$j]['scale_show']  == 1 || $header_data[$j]['scale_show'] == 3) && in_array('Scale', $icon_box_source2)) {                                        $outputstr.= '<select  class="input-text-box input-quarter-width" name="scale_lo[]" id="scale_lo'.$cat_cnt.'" style="display:none;" title="' . $header_data[$j]['scale_heading'] . '">                                                <option value="">' . $header_data[$j]['scale_heading'] . '</option>                                                <option value="1">1</option>                                                <option value="2">2</option>                                                <option value="3">3</option>                                                <option value="4">4</option>                                                <option value="5">5</option>                                                <option value="6">6</option>                                                <option value="7">7</option>                                                <option value="8">8</option>                                                <option value="9">9</option>                                                <option value="10">10</option>                                            </select>';                                    }                                                                 if ($header_data[$j]['time_order_show'] == $x && ($header_data[$j]['time_show']  == 1 || $header_data[$j]['time_show'] == 3)  && in_array('Time', $icon_box_source2)) {                                    // $outputstr.= '<select  class="input-text-box input-quarter-width" name="bes_time_lo[]" id="bes_time_lo'.$cat_cnt.'" style="display: none;">                                    //              <option value="">' . $design_my_life_data['time_heading'] . '</option>                                    //              ' . $obj->getTimeOptionsNew('0', '23', $bes_time) . '                                    //          </select>';                                    $outputstr.= '<input type="time" class="input-text-box input-quarter-width" name="bes_time_lo[]" id="bes_time_lo'.$cat_cnt.'" style="display: none;" placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                        $outputstr.= '<p class="text-danger" id="time_note_lo'.$cat_cnt.'" style="display:none;font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></p>';                                 }                                                                  if ($header_data[$j]['duration_order_show'] == $x && ($header_data[$j]['duration_show']  == 1 || $header_data[$j]['duration_show'] == 3) && in_array('Duration', $icon_box_source2)) {                                         $outputstr.= '<input type="text" name="duration_lo[]" id="duration_lo'.$cat_cnt.'" onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false" style="display:none;">';                                          $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit_lo[]" id="unit_lo'.$cat_cnt.'" title="Duration Type" style="display:none;">                                                <option value="">Select Unit</option>                                                    '.$obj->getFavCategoryRamakant('82','').'                                                </select>';                                  }                                   if ($header_data[$j]['user_date_order_show'] == $x && ($header_data[$j]['user_date_show']  == 1 || $header_data[$j]['user_date_show'] == 3) && in_array('Date', $icon_box_source2)) {                                        $outputstr.= ' <select name="userdate_lo[]" id="userdate_lo'.$cat_cnt.'" onchange="toggleDateSelectionType_multiple_lo(\'userdate_lo\','.$cat_cnt.')" style="width:200px;display:none;" class="input-text-box input-quarter-width">                                              <option value="">Select Date Type</option>                                              <option value="days_of_month"';                                        if ($listing_date_type == 'days_of_month') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Month</option><option value="single_date"';                                        if ($listing_date_type == 'single_date') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Single Date</option><option value="date_range"';                                        if ($listing_date_type == 'date_range') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Date Range</option> <option value="month_wise"';                                        if ($listing_date_type == 'month_wise') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Month Wise</option><option value="days_of_week"';                                        if ($listing_date_type == 'days_of_week') {                                            $outputstr.= 'selected="selected"';                                        }                                        $outputstr.= '>Days of Week</option>                                                     </select>';                                        $outputstr.= '<span>                                                    <table style="margin-top:5px;">                                                    <tr id="tr_days_of_month_lo'.$cat_cnt.'" style="display:' . $tr_days_of_month . '">                                                            <td align="right" valign="top"><strong>Select days of month</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <select id="days_of_month_lo'.$cat_cnt.'" name="days_of_month_lo['.$cat_cnt.'][]" multiple="multiple" style="width:500px;" class="input-text-box input-quarter-width">';                                        for ($i = 1;$i <= 31;$i++) {                                            $outputstr.= '<option value="' . $i . '"';                                            if (in_array($i, $arr_days_of_month)) {                                                $outputstr.= 'selected="selected"';                                            }                                            $outputstr.= '>' . $i . '</option>';                                        }                                        $outputstr.= '</select>&nbsp;*<br>                                                           You can choose more than one option by using the ctrl key.                                                          </td>                                                         </tr>';                                        $outputstr.= '<tr id="tr_single_date_lo'.$cat_cnt.'" style="display:' . $tr_single_date . '">                                                            <td align="right" valign="top"><strong>Select Date</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <input name="single_date_lo[]" id="single_date_lo'.$cat_cnt.'" type="text" value="' . $single_date . '" class="input-text-box" onmouseover="callDatecalender('.$cat_cnt.')">';                                        $outputstr.= '</td>                                                        </tr>                                                        <tr id="tr_date_range_lo'.$cat_cnt.'" style="display:' . $tr_date_range . '">                                                            <td align="right" valign="top"><strong>Select Date Range</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <input name="start_date_lo[]" id="start_date_lo'.$cat_cnt.'" type="text" value="' . $start_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender('.$cat_cnt.')"/> - <input name="end_date_lo[]" id="end_date_lo'.$cat_cnt.'" type="text" value="' . $end_date . '" style="width:200px;" class="input-text-box" onmouseover="callDatecalender('.$cat_cnt.')" />';                                        $outputstr.= '</td>                                                        </tr>                                                        <tr id="tr_days_of_week_lo'.$cat_cnt.'" style="display:' . $tr_days_of_week . '">                                                        <td align="right" valign="top"><strong>Select days of week</strong></td>                                                        <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <select id="days_of_week_lo'.$cat_cnt.'" name="days_of_week_lo['.$cat_cnt.'][]" multiple="multiple" class="input-text-box">';                                        $outputstr.= $obj->getDayOfWeekOptionsMultiple($arr_days_of_week);                                        $outputstr.= '</select>&nbsp;*<br>                                                                You can choose more than one option by using the ctrl key.                                                            </td>                                                        </tr>';                                        $outputstr.= '<tr id="tr_month_date_lo'.$cat_cnt.'" style="display:' . $tr_month_date . '">                                                            <td align="right" valign="top"><strong>Select Month</strong></td>                                                            <td align="center" valign="top"><strong>:</strong></td>                                                            <td align="left">                                                                <select id="months_lo'.$cat_cnt.'" name="months_lo['.$cat_cnt.'][]" multiple="multiple" class="input-text-box">';                                        $outputstr.= $obj->getMonthsOptionsMultiple($arr_month);                                        $outputstr.= '</select>&nbsp;*<br>                                                                You can choose more than one option by using the ctrl key.                                                            </td>                                                        </tr>                                                        </table>                                                </span>';                                                                                      }                                }                                                                                                    $outputstr.= ' <br>                                    </div>';                            }                } //icon type end                elseif($design_my_life_data['icon_box2']==2 || $design_my_life_data['icon_box2']==3)                {                       $icon_box_source2=explode(',', $design_my_life_data['icon_box_source2']);                    //$icon_data_dropdown="";                        for ($x = 1;$x <= 11;$x++)                         {	                        	                            if (in_array('Location', $icon_box_source2) && $design_my_life_data['location_order_show'] == $x && ($design_my_life_data['location_show']  == 1 || $design_my_life_data['location_show'] == 3)) {                                                                $icon_data_dropdown1=$obj->getFavCategoryShortData($design_my_life_data['location_fav_cat']);                                if(!empty($icon_data_dropdown1))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['location_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="location_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown1 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="location_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                                                            }                            if (in_array('User_Response', $icon_box_source2) && $design_my_life_data['like_dislike_order_show'] == $x && ($design_my_life_data['User_view']  == 1 || $design_my_life_data['User_view'] == 3)) {                                     $icon_data_dropdown2=$obj->getFavCategoryShortData($design_my_life_data['user_response_fav_cat']);                                if(!empty($icon_data_dropdown2))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['like_dislike_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_view_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown2 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_view_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                            }                            if (in_array('User_What_Next', $icon_box_source2) && $design_my_life_data['set_goals_order_show'] == $x && ($design_my_life_data['User_Interaction']  == 1 || $design_my_life_data['User_Interaction'] == 3)) {                                                                 $icon_data_dropdown3=$obj->getFavCategoryShortData($design_my_life_data['user_what_fav_cat']);                                if(!empty($icon_data_dropdown3))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['set_goals_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="User_Interaction_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown3 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="User_Interaction_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                            }                            if (in_array('Alert_Update', $icon_box_source2) && $design_my_life_data['reminder_order_show'] == $x && ($design_my_life_data['alert_show']  == 1 || $design_my_life_data['alert_show'] == 3)) {                                $icon_data_dropdown4=$obj->getFavCategoryShortData($design_my_life_data['alerts_fav_cat']);                                if(!empty($icon_data_dropdown4))                                {                                    $outputstr.= '<h6 class="Header_brown">'.$design_my_life_data['reminder_heading'].'</h6>';                                    $outputstr.= '<div class="checkbox-style">';                                    if($design_my_life_data['icon_box2']==2)                                    {                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="checkbox-inline"><input type="checkbox" name="alert_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                    elseif($design_my_life_data['icon_box2']==3)                                    {                                        foreach ($icon_data_dropdown4 as $fev_key => $fev_value) {                                                $outputstr.= '<label class="radio-inline"><input type="radio" name="alert_lo['.$cat_cnt.'][]" value="'.$fev_value['favcat_id'].'">'.stripslashes($fev_value['fav_cat']).'</label>';                                            }                                    }                                                                                $outputstr.= '</div>';                                }                            }                                                    }                        $outputstr.='<p style="clear: both;"><br></p>';            			for ($x = 1;$x <= 11;$x++)                         {                        	if (in_array('Comment', $icon_box_source2) && $design_my_life_data['comment_order_show'] == $x && ($design_my_life_data['comment_show']  == 1 || $design_my_life_data['comment_show'] == 3)) {                                $outputstr.= '<p><textarea  name="comment_SP[]" id="comment_SP'.$key.'"  placeholder="' . $design_my_life_data['comments_heading'] . '" title="' . $design_my_life_data['comments_heading'] . '" class="input-text-box input-quarter-width" autocomplete="false"></textarea></p>';                            }                            if (in_array('Scale', $icon_box_source2) && $design_my_life_data['scale_order_show'] == $x && ($design_my_life_data['scale_show']  == 1 || $design_my_life_data['scale_show'] == 3)) {                               $outputstr.= '<p><select  class="input-text-box input-quarter-width" name="scale_lo[]"  title="' . $design_my_life_data['scale_heading'] . '">                                        <option value="">' . $design_my_life_data['scale_heading'] . '</option>                                        <option value="1">1</option>                                        <option value="2">2</option>                                        <option value="3">3</option>                                        <option value="4">4</option>                                        <option value="5">5</option>                                        <option value="6">6</option>                                        <option value="7">7</option>                                        <option value="8">8</option>                                        <option value="9">9</option>                                        <option value="10">10</option>                                    </select></p>';                            }                            if (in_array('Time', $icon_box_source2) && $design_my_life_data['time_order_show'] == $x && ($design_my_life_data['time_show']  == 1 || $design_my_life_data['time_show'] == 3)) {                                $outputstr.= '<p><input type="time" class="input-text-box input-quarter-width" name="bes_time_lo[]"   placeholder="' . $design_my_life_data['time_heading'] . '" title="' . $design_my_life_data['time_heading'] . '" />';                                 $outputstr.= '<span class="text-danger"  style="font-size: 11px;"><a href="images/Device-SystemTime-Format.png" target="_blank" style="color: red;    text-decoration: underline;">Displays AM/PM or 24 Hour Format as per your Device Time Setting</a></sapn></p>';                            }                            if (in_array('Duration', $icon_box_source2) && $design_my_life_data['duration_order_show'] == $x && ($design_my_life_data['duration_show']  == 1 || $design_my_life_data['duration_show'] == 3)) {                                 $outputstr.= '<p><input type="text" name="duration_lo[]"  onKeyPress="return isNumberKey(event);" placeholder="' . $design_my_life_data['duration_heading'] . '" class="input-text-box input-sml-width" autocomplete="false">';                                $outputstr.= '<select  class="input-text-box input-quarter-width" name="unit_lo[]"  title="Duration Type">                                        <option value="">Select Unit</option>                                            '.$obj->getFavCategoryRamakant('82','').'                                        </select></p>';                            }                        }                }                else                {                    $outputstr.= '<br></div>';                }                            $outputstr.= '<script>                                     $("input").on("focus", function(e)                                     {                                      e.preventDefault();                                      $(this).attr("autocomplete", "off");                                       });                                     $(document).ready(function() {                                        $("input").attr("autocomplete","off");                                    });                                                                     </script> ';                                          }    }    echo $outputstr;    exit(0);   } else if ($action == 'getmodulewisekeywordsoptions') {    $page_id = $_REQUEST['page_id'];    $user_id = $_SESSION['user_id'];    $page_link = $obj->getPageLinkByid($page_id);    $keyword_option = '';    if ($page_link == 'design-my-life.php') {        $keyword_option = $obj->GETMYDESIGNKEWORD($user_id);    }    if ($page_link == 'mycanvas.php') {        $keyword_option = $obj->GETMYCANVASKEWORD($user_id);    }    if ($page_link == 'my_day_today.php') {        $keyword_option = $obj->GETMYDAYTODAYKEWORD($user_id);    }    echo $keyword_option;    exit(0);} elseif ($action == 'showacceptinvitationpopup') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $puid = stripslashes($_REQUEST['puid']);    $user_id = $_SESSION['user_id'];    $error = '0';    $err_msg = '';    $output = '';    $output = $obj->showAcceptInvitationPopup($user_id, $ar_id, $puid);    echo $output;} elseif ($action == 'showPatternsPopup') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $puid = stripslashes($_REQUEST['puid']);    $user_id = $_SESSION['user_id'];    $error = '0';    $err_msg = '';    $output = '';    $output = $obj->showPatternsPopup($user_id, $ar_id, $puid);    echo $output;} elseif ($action == 'doacceptadviserinvitation') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $report_id = stripslashes($_REQUEST['report_id']);    // $permission_type = stripslashes($_REQUEST['permission_type']);    $user_id = $_SESSION['user_id'];    $puid = stripslashes($_REQUEST['puid']);    $error = '0';    $err_msg = '';    $output = '';    // echo "hiiii";    // echo "<pre>";print_r($permission_type);echo "</pre>";    // exit;    $output = $obj->doAcceptAdviserInvitation($ar_id, $report_id, $user_id, $puid); //,$permission_type    // exit;    echo $output;} elseif ($action == 'showdeactivateadviserinvitationpopup') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $puid = stripslashes($_REQUEST['puid']);    $error = '0';    $err_msg = '';    $output = '';    $vendor = stripslashes($_REQUEST['vendor']);    $output = $obj->showDeactivateAdviserInvitationPopup($ar_id, $puid, $vendor);    echo $output;} elseif ($action == 'deactivateadviserinvitation') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $user_id = $_SESSION['user_id'];    $puid = stripslashes($_REQUEST['puid']);    $status_reason = stripslashes($_REQUEST['status_reason']);    $error = '0';    $err_msg = '';    $output = '';    $vendor = stripslashes($_REQUEST['vendor']);    $output = $obj->deactivateAdviserInvitation($ar_id, $user_id, $puid, $status_reason, $vendor);    echo $output;} elseif ($action == 'showactivateadviserinvitationpopup') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $puid = stripslashes($_REQUEST['puid']);    $error = '0';    $err_msg = '';    $output = '';    $vendor_id = stripslashes($_REQUEST['vendor']);    // echo $vendor_id;    // exit;    $output = $obj->showActivateAdviserInvitationPopup($ar_id, $puid, $vendor_id);    echo $output;} elseif ($action == 'activateadviserinvitation') {    $ar_id = stripslashes($_REQUEST['ar_id']);    $user_id = $_SESSION['user_id'];    $puid = stripslashes($_REQUEST['puid']);    $status_reason = stripslashes($_REQUEST['status_reason']);    $error = '0';    $err_msg = '';    $output = '';    $vendor_id = stripslashes($_REQUEST['vendor']);    // echo $vendor_id;    // exit;    $output = $obj->activateAdviserInvitation($ar_id, $user_id, $puid, $status_reason, $vendor_id);    echo $output;} elseif ($action == 'showadviserquerypopup') {    $parent_aq_id = stripslashes($_REQUEST['parent_aq_id']);    $page_id = stripslashes($_REQUEST['page_id']);    $output = '';    if (!$obj->isLoggedIn()) {        $ref = base64_encode('my_wellness_guidence.php');        $output = '<span class="Header_brown">You must login before add query.Please <a href="login.php?ref=' . $ref . '">Click here</a> to Login.</span>';    } else {        $user_id = $_SESSION['user_id'];        $user_upa_id = $obj->getupaid($page_id);        $plan_flag = $obj->Checkifplanexist($user_upa_id);        if ($plan_flag) {            if ($obj->chkUserPlanFeaturePermission($user_id, $user_upa_id)) {                $output = $obj->showAdviserQueryPopup($user_id, $parent_aq_id);            } else {                $output = '<span class="Header_brown">' . $obj->getCommonSettingValue('3') . '</span>';            }        } else {            $output = $obj->showAdviserQueryPopup($user_id, $parent_aq_id);        }    }    echo $output;} elseif ($action == 'addadviserquery') {    $parent_aq_id = stripslashes($_REQUEST['parent_aq_id']);    $temp_pro_user_id = stripslashes($_REQUEST['temp_pro_user_id']);    $temp_page_id = stripslashes($_REQUEST['temp_page_id']);    $name = stripslashes($_REQUEST['name']);    $email = stripslashes($_REQUEST['email']);    $query = stripslashes($_REQUEST['query']);    if ($obj->isLoggedIn()) {        $user_id = $_SESSION['user_id'];    } else {        $user_id = '0';    }    $error = '0';    if (!filter_var($email, FILTER_VALIDATE_EMAIL))    //if(!eregi("^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$", $email))    {        $error = '1';        $msg = 'Please enter valid email';        $output = $error . '::' . $msg;    } else {        $from_user = '1';        if ($obj->addAdviserQuery($parent_aq_id, $temp_page_id, $user_id, $name, $email, $temp_pro_user_id, $from_user, $query)) {            $error = '2';            $msg = 'Your Query has been forwarded to your Adviser (' . $obj->getProUserFullNameById($temp_pro_user_id) . ')\'s Message Box for his/her Guidance to you';            $output = $error . '::' . $msg;        }    }    echo $output;} elseif ($action == 'feedback_form') {    $output = '';    $output.= '<form id="frm_feedback" name="frm_feedback" method="post" action="#" enctype="multipart/form-data">                <input type="hidden" name="main_page_id" id="main_page_id" value="<?php echo $main_page_id; ?>" />                <input type="hidden" name="hdn_p_id1" id="hdn_p_id1" value="' . $temp_page_id = $obj->getTemppageId($page_id) . '" />                                                 <table cellpadding="0" cellspacing="0" width="75%" align="center" border="0" style="margin-top:-75%;">                                                   <tr>                                                                 <td width="60%" height="40" align="left" valign="top">Subject:</td>                                                                 <td width="40%" height="40" align="left" valign="top"><select class="form-control" id="temp_page_id1" name="temp_page_id1">  ' . $obj->getFeeadBackPages($temp_page_id) . ' </select> </td>                                                        </tr>';    if ($obj->isLoggedIn()) {        $user_id = $_SESSION['user_id'];        $name = $obj->getUserFullNameById($user_id);        $email = $obj->getUserEmailById($user_id);        $readonly = ' readonly ';    } else {        $readonly = '';    }    $output.= '<tr>                                      <td width="60%" height="40" align="left" valign="top">Name:</td>                                                                 <td width="40%" height="40" align="left" valign="top"><input class="form-control" type="text" id="name1" name="name1" ' . $readonly . ' value="' . $name . '" /></td>                                                         </tr>                                                         <tr>                                                              <td width="60%" height="40" align="left" valign="top">Email:</td>                                                                 <td width="40%" height="40" align="left" valign="top"> <input class="form-control" type="text" id="email1" name="email1" ' . $readonly . ' value="' . $email . '" /></td>                                                         </tr>                                                         <tr>                                                              <td width="60%" height="110" align="left" valign="top">Feedback and Suggestions:</td>                                                                 <td width="40%" height="110" align="left" valign="top"> <textarea class="form-control" cols="30" rows="5" type="text" id="feedback1" name="feedback1">' . $textarea . '</textarea> </td>                                                         </tr>                                                         <tr>                                                              <td width="60%" height="40" align="left" valign="middle">&nbsp;</td>                                                                 <td width="40%" height="40" align="left" valign="middle"> <input name="submit" type="button" class="btn btn-primary" id="submit" value="Submit"  onclick="GetFeedback_kr()" /></td>                                                         </tr>                                                    </table>                                         </form>';    echo $output;    // echo "<pre>";print_r($output);echo "</pre>";    } //old ajax function for keywords // elseif ($action == 'getRecordNameDetailsKR') {//     $obj2 = new frontclass();//     $recored = $_REQUEST['recored_id'];//     $data = $obj2->getRecordData($recored);//     echo $data;// }//new ajax function for keywords by ample 02-04-20elseif ($action == 'getRecordNameDetailsKR') {    $obj2 = new frontclass();    $recored = $_REQUEST['recored_id'];    $date_type = $_REQUEST['date_type'];    $date_arr = $_REQUEST['arr'];    $data = $obj2->getRecordData($recored,$date_type,$date_arr);    echo $data;} elseif ($action == 'myLifepatternKR') {    $DBH = new DatabaseHandler();    $obj2 = new frontclass();        //added by ample 08-12-20        $obj3 = new commonFrontclass();        $ip = isset($_SERVER['HTTP_CLIENT_IP']) ? $_SERVER['HTTP_CLIENT_IP'] : isset($_SERVER['HTTP_X_FORWARDED_FOR']) ? $_SERVER['HTTP_X_FORWARDED_FOR'] : $_SERVER['REMOTE_ADDR'];        $user_id = $_SESSION['user_id'];    $recored = $_REQUEST['arr'];    $report=explode(",",$recored['report_name']); //code add by ample 27-02-20    $select_repoert_name = "SELECT * FROM `tbl_recordshow_dropdown` WHERE `uniqu_id`='" . $report[0] . "'";    $STH1 = $DBH->query($select_repoert_name);    $row1 = $STH1->fetch(PDO::FETCH_ASSOC);    $arr = array('report' => $recored, 'report_name' => $row1['report_name'],'access' => 1);        $access=$obj3->check_user_subcription_report_status('38',$row1['page_cat_id']);        if($access==1)        {            //added by ample 08-12-20             $log_data=array(                                'visitor_id'=>$user_id,                                'visitor_type'=>'User',                                'page_id'=>38,                                'ip_address'=>$ip,                                'visit_date'=>date('Y-m-d H:i:s'),                                'report_id'=>$row1['page_cat_id'],                                'pg_log_status'=>1                                );            $res=$obj3->added_page_log_data($log_data);        }        else        {            $arr = array('access' => 0);        }    echo json_encode($arr);} elseif ($action == 'showrewardcatlog') {    $obj2 = new frontclass();    $module_id = stripslashes($_REQUEST['module_id']);    $error = '0';    $err_msg = '';    $output = '';    $output = $obj2->showRewardCatlog($module_id);    echo $output;} elseif ($action == 'viewallmoduleredeampopup') {    $obj2 = new frontclass();    $error = '0';    $err_msg = '';    $output = '';    $summary_reward_module_id = stripslashes($_REQUEST['summary_reward_module_id']);    $summary_reward_module_title = stripslashes($_REQUEST['summary_reward_module_title']);    $summary_total_balance_points = stripslashes($_REQUEST['summary_total_balance_points']);    $user_id = $_SESSION['user_id'];    $summary_reward_module_id = substr($summary_reward_module_id, 0, -1);    $summary_reward_module_title = substr($summary_reward_module_title, 0, -1);    $summary_total_balance_points = substr($summary_total_balance_points, 0, -1);    $arr_summary_reward_module_id = explode(',', $summary_reward_module_id);    $arr_summary_reward_module_title = explode(',', $summary_reward_module_title);    $arr_summary_total_balance_points = explode(',', $summary_total_balance_points);    $output = $obj2->viewAllModuleRedeamPopup($user_id, $arr_summary_reward_module_id, $arr_summary_reward_module_title, $arr_summary_total_balance_points);    echo $output;} elseif ($action == 'viewentriesdetailslist') {    $error = '0';    $err_msg = '';    $output = '';    $start_date = stripslashes($_REQUEST['start_date']);    $end_date = stripslashes($_REQUEST['end_date']);    $reward_module_id = stripslashes($_REQUEST['reward_module_id']);    $user_id = $_SESSION['user_id'];    //$end_date = date('Y-m-t',strtotime($start_date));    $output = $obj->viewEntriesDetailsList($user_id, $start_date, $end_date, $reward_module_id);    echo $output;} else if ($action == 'getdatadropdown') {    $day_month_year = date("Y-m-d");    $sub_cat_id = $_REQUEST['sub_cat_id'];    $get_design_data = $obj->GETDesignData($sub_cat_id, $day_month_year);    $outputstr = '';    if (count($get_design_data) > 0) {        for ($j = 0;$j < count($get_design_data);$j++) {            $design_my_life_data = $obj->GetDesignMyLifeDatabyRef($get_design_data[$j]['ref_code']);            $symtum_cat = $design_my_life_data['sub_cat2'];            $sub_cat2_show_fetch = $design_my_life_data['sub_cat2_show_fetch'];            $sub_cat2_link = $design_my_life_data['sub_cat2_link'];            //add by ample 09-01-20            $sub_cat2_refer = $design_my_life_data['prof_cat2_ref_code'];            $sub_cat2_uid = $design_my_life_data['prof_cat2_uid'];            //update by ample 09-01-20            $data_dropdown = $obj->GetDesignMyLifeDrop($symtum_cat, $sub_cat2_show_fetch, $sub_cat2_link, $sub_cat2_refer, $sub_cat2_uid);        }    }    echo $data_dropdown;    exit(0);} //old function criteria 1// else if ($action == 'getRecordNameDetailscriteriakr') {//     $obj2 = new frontclass();//     $recored = $_REQUEST['recored_id'];//     $data = $obj2->getRecordDataCriteria($recored);//     echo $data;// } //new function criteria 1else if ($action == 'getRecordNameDetailscriteriakr') {    $obj2 = new frontclass();    $recored = $_REQUEST['recored_id'];    $keywords = $_REQUEST['keywords'];    $date_type = $_REQUEST['date_type'];    $date_arr = $_REQUEST['arr'];    $data = $obj2->getRecordDataCriteria($recored,$keywords,$date_type,$date_arr);    echo $data;}//old function criteria 2// else if ($action == 'getRecordNameDetails_sub_criteriakr') {//     $obj2 = new frontclass();//     $recored = $_REQUEST['recored_id'];//     $data = $obj2->getRecordData_sub_Criteria($recored);//     // echo "<pre>";print_r($data);echo "</pre>";//     echo $data;// }//new function criteria 2else if ($action == 'getRecordNameDetails_sub_criteriakr') {    $obj2 = new frontclass();    $recored = $_REQUEST['recored_id'];    $keywords = $_REQUEST['keywords'];    $date_type = $_REQUEST['date_type'];    $date_arr = $_REQUEST['arr'];    $data = $obj2->getRecordData_sub_Criteria($recored,$keywords,$date_type,$date_arr);    echo $data;} else if ($action == 'getRecordNameDetails_parameter_kr') {    $obj2 = new frontclass();    $recored = $_REQUEST['recored_id'];    $data = $obj2->getRecordData_parameters($recored);    echo $data;} elseif ($action == 'removefromcart') {    $obj2 = new frontclass();    $cart_id = '';    if (isset($_POST['cart_id']) && trim($_POST['cart_id']) != '') {        $cart_id = trim($_POST['cart_id']);    }    $error = 0;    $err_msg = '';    if ($cart_id != '') {        if ($obj2->removeFromCart($cart_id)) {            $error = 0;            $err_msg = 'Item removed successfully';        } else {            $error = 1;            $err_msg = 'Something went wrong, Please try again later.';        }    } else {        $error = 1;        $err_msg = 'Please select any item';    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    echo $ret_str;} elseif ($action == 'updatecartsingleitem') {    $obj2 = new frontclass();    $cusine_id = '';    if (isset($_POST['cusine_id']) && trim($_POST['cusine_id']) != '') {        $cusine_id = trim($_POST['cusine_id']);    }    $qty = '';    if (isset($_POST['qty']) && trim($_POST['qty']) != '') {        $qty = trim($_POST['qty']);    }    $delivery_date = '';    if (isset($_POST['delivery_date']) && trim($_POST['delivery_date']) != '') {        $delivery_date = trim($_POST['delivery_date']);    }    $typess = '';    if (isset($_POST['typess']) && trim($_POST['typess']) != '') {        $typess = trim($_POST['typess']);    }    $error = 0;    $err_msg = '';    if ($cusine_id != '') {        if ($qty != '') {            if ($obj2->chkIfCusineQtyAvailable($cusine_id, $qty)) {                if ($obj2->updateCartSingleItem($cusine_id, $qty, $delivery_date, $typess)) {                    $error = 0;                    $err_msg = 'Item updated successfully';                } else {                    $error = 1;                    $err_msg = 'Something went wrong, Please try again later.';                }            } else {                $error = 1;                $err_msg = 'Sorry currently this quantity not available';            }        } else {            $error = 1;            $err_msg = 'Invalid quantity';        }    } else {        $error = 1;        $err_msg = 'Please select any item';    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    echo $ret_str;    // echo 'htttttt44444';    // exit;    } else if ($action == 'home_set_pop') {    $valid = $_REQUEST['valid'];    if (isset($_SESSION['home_pop']) == "") {        $_SESSION['home_pop'] = $valid;    } else {        $_SESSION['home_pop'] = "0";    }    echo $_SESSION['home_pop'];} elseif ($action == 'getsidecartbox') {    $obj2 = new frontclass();    $output = $obj2->getSideCartBox();    $ret_str = $test . '::::' . $output;    echo $ret_str;    // echo "<pre>";print_r($output);echo "</pre>";    // exit;    } elseif ($action == 'getsidecartboxcheckout') {    $obj2 = new frontclass();    $output = $obj2->getSideCartBoxCheckout();    $ret_str = $test . '::::' . $output;    echo $ret_str;} elseif ($action == 'docheckoutsavedeliveryaddress') {    $obj2 = new frontclass();    $delivery_name = '';    if (isset($_POST['delivery_name']) && trim($_POST['delivery_name']) != '') {        $delivery_name = trim($_POST['delivery_name']);    }    $delivery_building_name = '';    if (isset($_POST['delivery_building_name']) && trim($_POST['delivery_building_name']) != '') {        $delivery_building_name = trim($_POST['delivery_building_name']);    }    $delivery_floor_no = '';    if (isset($_POST['delivery_floor_no']) && trim($_POST['delivery_floor_no']) != '') {        $delivery_floor_no = trim($_POST['delivery_floor_no']);    }    $delivery_address_line1 = '';    if (isset($_POST['delivery_address_line1']) && trim($_POST['delivery_address_line1']) != '') {        $delivery_address_line1 = trim($_POST['delivery_address_line1']);    }    $delivery_landmark = '';    if (isset($_POST['delivery_landmark']) && trim($_POST['delivery_landmark']) != '') {        $delivery_landmark = trim($_POST['delivery_landmark']);    }    $delivery_city_id = '';    if (isset($_POST['delivery_city_id']) && trim($_POST['delivery_city_id']) != '') {        $delivery_city_id = trim($_POST['delivery_city_id']);    }    $delivery_area_id = '';    if (isset($_POST['delivery_area_id']) && trim($_POST['delivery_area_id']) != '') {        $delivery_area_id = trim($_POST['delivery_area_id']);    }    $delivery_mobile_no = '';    if (isset($_POST['delivery_mobile_no']) && trim($_POST['delivery_mobile_no']) != '') {        $delivery_mobile_no = trim($_POST['delivery_mobile_no']);    }    $delivery_pincode = '';    if (isset($_POST['delivery_pincode']) && trim($_POST['delivery_pincode']) != '') {        $delivery_pincode = trim($_POST['delivery_pincode']);    }    $billing_name = '';    if (isset($_POST['billing_name']) && trim($_POST['billing_name']) != '') {        $billing_name = trim($_POST['billing_name']);    }    $billing_building_name = '';    if (isset($_POST['billing_building_name']) && trim($_POST['billing_building_name']) != '') {        $billing_building_name = trim($_POST['billing_building_name']);    }    $billing_floor_no = '';    if (isset($_POST['billing_floor_no']) && trim($_POST['billing_floor_no']) != '') {        $billing_floor_no = trim($_POST['billing_floor_no']);    }    $billing_address_line1 = '';    if (isset($_POST['billing_address_line1']) && trim($_POST['billing_address_line1']) != '') {        $billing_address_line1 = trim($_POST['billing_address_line1']);    }    $billing_landmark = '';    if (isset($_POST['billing_landmark']) && trim($_POST['billing_landmark']) != '') {        $billing_landmark = trim($_POST['billing_landmark']);    }    $billing_city_id = '';    if (isset($_POST['billing_city_id']) && trim($_POST['billing_city_id']) != '') {        $billing_city_id = trim($_POST['billing_city_id']);    }    $billing_area_id = '';    if (isset($_POST['billing_area_id']) && trim($_POST['billing_area_id']) != '') {        $billing_area_id = trim($_POST['billing_area_id']);    }    $billing_mobile_no = '';    if (isset($_POST['billing_mobile_no']) && trim($_POST['billing_mobile_no']) != '') {        $billing_mobile_no = trim($_POST['billing_mobile_no']);    }    $billing_pincode = '';    if (isset($_POST['billing_pincode']) && trim($_POST['billing_pincode']) != '') {        $billing_pincode = trim($_POST['billing_pincode']);    }    $error = 0;    $err_msg = '';    if ($delivery_name == '') {        $error = 1;        $err_msg = 'Please enter delivery name.';    } elseif ($delivery_building_name == '') {        $error = 1;        $err_msg = 'Please enter flat number/house number, building name for delivery address.';    } elseif ($delivery_address_line1 == '') {        $error = 1;        $err_msg = 'Please enter address line 1 for delivery address';    } elseif ($delivery_city_id == '' || $delivery_city_id == '0' || $delivery_city_id == 'undefined') {        $error = 1;        $err_msg = 'Please enter delivery city/town';    } elseif ($delivery_area_id == '' || $delivery_area_id == '0' || $delivery_area_id == 'undefined') {        $error = 1;        $err_msg = 'Please enter delivery area';    } elseif ($delivery_mobile_no == '') {        $error = 1;        $err_msg = 'Please enter mobile no for delivery address';    } elseif ((!is_numeric($delivery_mobile_no)) || (strlen($delivery_mobile_no) != 10)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only for delivery address';    } elseif (!preg_match("/^[0-9]+$/", $delivery_mobile_no)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only for delivery address!';    } elseif ($delivery_pincode == '') {        //$error = 1;        //$err_msg = 'Please enter pincode';            } elseif ($billing_name == '') {        $error = 1;        $err_msg = 'Please enter billing name.';    } elseif ($billing_building_name == '') {        $error = 1;        $err_msg = 'Please enter flat number/house number, building name for billing address.';    } elseif ($billing_address_line1 == '') {        $error = 1;        $err_msg = 'Please enter address line 1 for billing address';    } elseif ($billing_city_id == '' || $billing_city_id == '0' || $billing_city_id == 'undefined') {        $error = 1;        $err_msg = 'Please enter billing city/town';    } elseif ($billing_area_id == '' || $billing_area_id == '0' || $billing_area_id == 'undefined') {        $error = 1;        $err_msg = 'Please enter billing area';    } elseif ($billing_mobile_no == '') {        $error = 1;        $err_msg = 'Please enter mobile no for billing address';    } elseif ((!is_numeric($billing_mobile_no)) || (strlen($billing_mobile_no) != 10)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only for billing address';    } elseif (!preg_match("/^[0-9]+$/", $billing_mobile_no)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only for billing address!';    } elseif ($billing_pincode == '') {        //$error = 1;        //$err_msg = 'Please enter pincode';            } else {        // echo $_SESSION['topcityid'];        // exit;        if (isset($_SESSION['topcityid']) && $_SESSION['topcityid'] != '') {            $topcityid = $_SESSION['topcityid'];        } else {            $topcityid = '0';        }        if (isset($_SESSION['topareaid']) && $_SESSION['topareaid'] != '') {            $topareaid = $_SESSION['topareaid'];        } else {            $topareaid = '0';        }        if ($delivery_city_id != $topcityid) {            $error = 1;            $err_msg = 'Sorry this item(s) currently not avilable in city/town which you selected for delivery';        } else {            /*                        if($topareaid != '' && $topareaid != '0' && $topareaid != '-1')                        {                            if($delivery_area_id != '' && $delivery_area_id != '0' && $delivery_area_id != $topareaid)                            {                                $error = 1;                                $err_msg = 'Sorry this item(s) currently not avilable in area of city/town which you selected for delivery';                            }                        }                        */        }    }    // echo "<pre>";print_r($delivery_city_id);echo "</pre>";    //         exit;    if ($error == '0') {        if ($obj2->isLoggedIn()) {            $tdata = array();            $tdata['user_id'] = $_SESSION['user_id'];            $tdata['delivery_name'] = $delivery_name;            $tdata['building_name'] = $delivery_building_name;            $tdata['floor_no'] = $delivery_floor_no;            $tdata['landmark'] = $delivery_landmark;            $tdata['address'] = $delivery_address_line1;            $tdata['country_id'] = $obj2->getCountryIdOfCityId($delivery_city_id);            $tdata['state_id'] = $obj2->getStateIdOfCityId($delivery_city_id);            $tdata['city_id'] = $delivery_city_id;            $tdata['area_id'] = $delivery_area_id;            $tdata['delivery_mobile_no'] = $delivery_mobile_no;            $tdata['pincode'] = $delivery_pincode;            $tdata['billing_name'] = $billing_name;            $tdata['billing_building_name'] = $billing_building_name;            $tdata['billing_floor_no'] = $billing_floor_no;            $tdata['billing_landmark'] = $billing_landmark;            $tdata['billing_address'] = $billing_address_line1;            $tdata['billing_country_id'] = $obj2->getCountryIdOfCityId($billing_city_id);            $tdata['billing_state_id'] = $obj2->getStateIdOfCityId($billing_city_id);            $tdata['billing_city_id'] = $billing_city_id;            $tdata['billing_area_id'] = $billing_area_id;            $tdata['billing_mobile_no'] = $billing_mobile_no;            $tdata['billing_pincode'] = $billing_pincode;            if ($obj2->updateUserAddressDetails($tdata)) {                $error = 0;            } else {                // echo "<pre>";print_r('hi');echo "</pre>";                // exit;                $error = 1;                $err_msg = 'Something went wrong, Please try again later.';            }        } else {            // echo "<pre>";print_r('hi2');echo "</pre>";            // exit;            $error = 1;            $err_msg = 'Something went wrong, Please try again later!';        }    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    // echo "<pre>";print_r($ret_str);echo "</pre>";    //         exit;    echo $ret_str;} elseif ($action == 'docheckoutlogin') {    $obj2 = new frontclass();    $email = '';    if (isset($_POST['email']) && trim($_POST['email']) != '') {        $email = trim($_POST['email']);    }    $password = '';    if (isset($_POST['password']) && trim($_POST['password']) != '') {        $password = trim($_POST['password']);    }    $ref_url = '';    if (isset($_POST['ref_url']) && trim($_POST['ref_url']) != '') {        $ref_url = trim($_POST['ref_url']);    }    $error = 0;    $err_msg = '';    if ($email == '') {        $error = 1;        $err_msg = 'Please enter email';    } elseif ($password == '') {        $error = 1;        $err_msg = 'Please enter password';    }    $ref_url_go = '';    if ($error == '0') {        // $va=$obj2->chkValidUserLogin($email,$password);        // echo "<pre>";print_r($va);echo "</pre>";        // exit;        if ($obj2->chkValidLogin($email, $password)) {            //   echo "<pre>";print_r('ji');echo "<pre>";            // exit;            if ($obj2->doLogin($email)) {                $error = 0;                if (isset($ref_url) && $ref_url != '') {                    $ref_url_go = urldecode(base64_decode($ref_url));                } else {                    $ref_url_go = SITE_URL . '/my_account.php';                }            } else {                $error = 1;                $err_msg = 'Something went wrong, Please try again later.';            }        } else {            $error = 1;            $err_msg = 'Invalid login details';        }    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg . '::::' . $ref_url_go;    echo $ret_str;} elseif ($action == 'dochangepassword') {    $obj2 = new frontclass();    $opassword = '';    if (isset($_POST['opassword']) && trim($_POST['opassword']) != '') {        $opassword = trim($_POST['opassword']);    }    $npassword = '';    if (isset($_POST['npassword']) && trim($_POST['npassword']) != '') {        $npassword = trim($_POST['npassword']);    }    $cpassword = '';    if (isset($_POST['cpassword']) && trim($_POST['cpassword']) != '') {        $cpassword = trim($_POST['cpassword']);    }    $error = 0;    $err_msg = '';    $url = '';    $user_id = $_SESSION['user_id'];    if ($user_id > 0) {        $arr_temp_user = $obj2->getUserDetails($user_id);        $vpassword = $arr_temp_user['password'];        // echo "<pre>";print_r($vpassword);echo "</pre>";        if ($opassword == '') {            $error = 1;            $err_msg = 'Please enter current password';        } elseif (md5($opassword) != $vpassword) {            $error = 1;            $err_msg = 'Wrong current password';        } elseif ($npassword == '') {            $error = 1;            $err_msg = 'Please enter new password';        } elseif ($cpassword == '') {            $error = 1;            $err_msg = 'Please enter confirm password';        } elseif ($npassword != $cpassword) {            $error = 1;            $err_msg = 'Please enter same confirm password';        }        if ($error == '0') {            $tdata = array();            $tdata['password'] = $npassword;            $tdata['user_id'] = $user_id;            if ($obj2->changeUserPassword($tdata)) {                $error = 0;                $url = SITE_URL . '/messages.php?id=4';            } else {                $error = 1;                $err_msg = 'Something went wrong, Please try again later!';            }        }    } else {        $error = 1;        $err_msg = 'Invalid access';    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg . '::::' . $url;    echo $ret_str;} elseif ($action == 'docheckoutsignup') {    $obj2 = new frontclass();    $signup_first_name = '';    if (isset($_POST['signup_first_name']) && trim($_POST['signup_first_name']) != '') {        $signup_first_name = trim($_POST['signup_first_name']);    }    $signup_last_name = '';    if (isset($_POST['signup_last_name']) && trim($_POST['signup_last_name']) != '') {        $signup_last_name = trim($_POST['signup_last_name']);    }    $signup_middle_name = '';    if (isset($_POST['signup_middle_name']) && trim($_POST['signup_middle_name']) != '') {        $signup_middle_name = trim($_POST['signup_middle_name']);    }    $signup_email = '';    if (isset($_POST['signup_email']) && trim($_POST['signup_email']) != '') {        $signup_email = trim($_POST['signup_email']);    }    $signup_mobile_no = '';    if (isset($_POST['signup_mobile_no']) && trim($_POST['signup_mobile_no']) != '') {        $signup_mobile_no = trim($_POST['signup_mobile_no']);    }    $sex = '';    if (isset($_POST['sex']) && trim($_POST['sex']) != '') {        $sex = trim($_POST['sex']);    }    $signup_city = '';    if (isset($_POST['signup_city']) && trim($_POST['signup_city']) != '') {        $signup_city = trim($_POST['signup_city']);    }    $signup_location = '';    if (isset($_POST['signup_location']) && trim($_POST['signup_location']) != '') {        $signup_location = trim($_POST['signup_location']);    }    $signup_password = '';    if (isset($_POST['signup_password']) && trim($_POST['signup_password']) != '') {        $signup_password = trim($_POST['signup_password']);    }    $error = 0;    $err_msg = '';    if ($signup_first_name == '') {        $error = 1;        $err_msg = 'Please enter first name';    } elseif ($signup_last_name == '') {        $error = 1;        $err_msg = 'Please enter last name';    } elseif ($signup_middle_name == '') {        $error = 1;        $err_msg = 'Please enter middle name';    } elseif ($signup_email == '') {        $error = 1;        $err_msg = 'Please enter email';    } elseif (filter_var($signup_email, FILTER_VALIDATE_EMAIL) === false) {        $error = 1;        $err_msg = 'Please enter valid email';    } elseif ($obj2->chkEmailExists($signup_email)) {        $error = true;        $err_msg = 'This email already registered. Please login with this account, If you forgot password <a href="' . SITE_URL . '/forgot_password.php' . '">Click here</a> to reset new password';    } elseif ($signup_mobile_no == '') {        $error = 1;        $err_msg = 'Please enter mobile no';    } elseif ($obj2->chkMobileNoExists($signup_mobile_no)) {        $error = true;        $err_msg = 'This mobile number already registered. Please login with this account, If you forgot password <a href="' . SITE_URL . '/forgot_password.php' . '">Click here</a> to reset new password';    } elseif ($sex == '') {        $error = 1;        $err_msg = 'Please select gender';    } elseif ((!is_numeric($signup_mobile_no)) || (strlen($signup_mobile_no) != 10)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only';    } elseif (!preg_match("/^[0-9]+$/", $signup_mobile_no)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only!';    } elseif ($signup_city == '') {        $error = 1;        $err_msg = 'Please select city';    } elseif ($signup_location == '') {        $error = 1;        $err_msg = 'Please select location ';    } elseif ($signup_password == '') {        $error = 1;        $err_msg = 'Please enter password';    }    $string = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';    $string_shuffled = str_shuffle($string);    $otp = substr($string_shuffled, 1, 6);    if ($error == '0') {        $tdata = array();        $tdata['first_name'] = $signup_first_name;        $tdata['middel_name'] = $signup_middle_name;        $tdata['last_name'] = $signup_last_name;        $tdata['email'] = $signup_email;        $tdata['mobile_no'] = $signup_mobile_no;        $tdata['sex'] = $sex;        $tdata['signup_city'] = $signup_city;        $tdata['signup_location'] = $signup_location;        $tdata['password'] = $signup_password;        $tdata['user_status'] = '0';        $tdata['is_guest_user'] = '0';        $tdata['user_otp'] = $otp;        // $name,$middle_name,$last_name,$gender,$email,$mobile,$city_id,$place_id,$password,$otp        // $user_id = $obj2->doCheckoutSignUp($tdata);        $user_id = $obj2->signUpUser($tdata['first_name'], $tdata['middel_name'], $tdata['last_name'], $tdata['sex'], $tdata['email'], $tdata['mobile_no'], $tdata['signup_city'], $tdata['signup_location'], $tdata['password'], $tdata['user_otp']);        // echo "<pre>";print_r($user_id);echo "</pre>";        // exit;        if ($user_id > 0) {            $tdata_sms = array();            $tdata_sms['mobile_no'] = $signup_mobile_no;            $tdata_sms['sms_message'] = $obj2->getOTPSmsText($tdata);            $obj2->sendSMS($tdata_sms);            $error = 0;        } else {            $error = 1;            $err_msg = 'Something went wrong, Please try again later!';        }    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    echo $ret_str;} elseif ($action == 'doverifyotp') {    $obj2 = new frontclass();    $user_otp = '';    if (isset($_POST['user_otp']) && trim($_POST['user_otp']) != '') {        $user_otp = trim($_POST['user_otp']);    }    $signup_email = '';    if (isset($_POST['email']) && trim($_POST['email']) != '') {        $signup_email = trim($_POST['email']);    }    $signup_mobile_no = '';    if (isset($_POST['mobile_no']) && trim($_POST['mobile_no']) != '') {        $signup_mobile_no = trim($_POST['mobile_no']);    }    $error = 0;    $err_msg = '';    if ($user_otp == '') {        $error = 1;        $err_msg = 'Please enter 4 digits otp';    } elseif ($signup_email == '') {        $error = 1;        $err_msg = 'Please enter email';    } elseif (filter_var($signup_email, FILTER_VALIDATE_EMAIL) === false) {        $error = 1;        $err_msg = 'Please enter valid email';    } elseif (!$obj2->chkEmailExists($signup_email)) {        $error = true;        $err_msg = 'This email not registered';    } elseif ($signup_mobile_no == '') {        $error = 1;        $err_msg = 'Please enter mobile no';    } elseif (!$obj2->chkMobileNoExists($signup_mobile_no)) {        $error = true;        $err_msg = 'This mobile number not registered';    } elseif ((!is_numeric($signup_mobile_no)) || (strlen($signup_mobile_no) != 10)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only';    } elseif (!preg_match("/^[0-9]+$/", $signup_mobile_no)) {        $error = 1;        $err_msg = 'Please enter valid 10 digits numbers only!';    }    if ($error == '0') {        $tdata = array();        $tdata['user_otp'] = $user_otp;        $tdata['email'] = $signup_email;        $tdata['mobile_no'] = $signup_mobile_no;        $tdata['is_guest_user'] = '0';        if ($obj2->doVerifyOTP($tdata)) {            $obj2->sendSignUpEmailToCustomer($signup_email);            if ($obj2->doLogin($signup_email)) {                $error = 0;            } else {                $error = 1;                $err_msg = 'Something went wrong, Please try again later.';            }        } else {            $error = 1;            $err_msg = 'Invalid otp entry!';        }    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    echo $ret_str;} elseif ($action == 'getfeedback') {    $obj2 = new frontclass();    $page_id = stripslashes($_REQUEST['page_id']);    $name = stripslashes($_REQUEST['name']);    $email = stripslashes($_REQUEST['email']);    $feedback = stripslashes($_REQUEST['feedback']);    $parent_id = stripslashes($_REQUEST['parent_id']);    if ($obj2->isLoggedIn()) {        $user_id = $_SESSION['user_id'];    } else {        $user_id = '0';    }    $error = '0';    if(!eregi("^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$", $email))    {        $error = '1';        $msg = 'Please enter valid email';        $output = $error.'::'.$msg;    }    else    if ($obj2->InsertFeedback($parent_id, $page_id, $name, $email, $feedback, $user_id)) {        $error = '2';        $msg = 'Thank You For Your Feedback/Suggestion';        $output = $error . '::' . $msg;    }    // echo"<pre>";print_r($email);echo "<pre>";    // exit;    // }    echo $output;} elseif ($action == 'setdeliverylocation') {    $obj2 = new frontclass();    $deliverycityid = '';    if (isset($_POST['deliverycityid']) && trim($_POST['deliverycityid']) != '') {        $deliverycityid = trim($_POST['deliverycityid']);    }    $deliveryareaid = '';    if (isset($_POST['deliveryareaid']) && trim($_POST['deliveryareaid']) != '') {        $deliveryareaid = trim($_POST['deliveryareaid']);    }    $error = 0;    $err_msg = '';    $deliverylocationstr = '';    $deliverypincode = '';    if ($deliverycityid == '' || $deliverycityid == 'null') {        $error = 1;        $err_msg = 'Please enter delivery city/town';    } elseif ($deliveryareaid == '' || $deliveryareaid == 'null') {        $error = 1;        $err_msg = 'Please enter delivery area';    } else {        if ($obj2->chkIfValidCityId($deliverycityid)) {            if (isset($_SESSION['topcityid']) && $_SESSION['topcityid'] != '') {                $topcityid = $_SESSION['topcityid'];            } else {                $topcityid = '0';            }            if (isset($_SESSION['topareaid']) && $_SESSION['topareaid'] != '') {                $topareaid = $_SESSION['topareaid'];            } else {                $topareaid = '0';            }            // echo "<pre>";print_r($topareaid);echo "</pre>";            if ($deliverycityid != $topcityid) {                $error = 1;                $err_msg = 'Sorry this item(s) currently not avilable in city/town which you selected for delivery';            } else {                if ($deliveryareaid == '') {                    $deliverylocationstr = $obj2->getTopLocationStr($deliverycityid, $deliveryareaid);                } else {                    if ($obj2->chkIfValidAreaId($deliveryareaid)) {                        $deliverylocationstr = $obj2->getTopLocationStr($deliverycityid, $deliveryareaid);                        $deliverypincode = $obj2->getPincodeOfArea($deliveryareaid);                        /*                                                if($topareaid != '' && $topareaid != '0' && $topareaid != '-1')                                                {                                                    if($deliveryareaid != '' && $deliveryareaid != '0' && $deliveryareaid != $topareaid)                                                    {                                                        $error = 1;                                                        $err_msg = 'Sorry this item(s) currently not avilable in area of city/town which you selected for delivery';                                                    }                                                }                                                */                    } else {                        $error = 1;                        $err_msg = 'Invalid area';                    }                }            }        } else {            $error = 1;            $err_msg = 'Invalid city';        }    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg . '::::' . $deliverylocationstr . '::::' . $deliverypincode;    echo $ret_str;} elseif ($action == 'setbillinglocation') {    $obj2 = new frontclass();    $deliverycityid = '';    if (isset($_POST['deliverycityid']) && trim($_POST['deliverycityid']) != '') {        $deliverycityid = trim($_POST['deliverycityid']);    }    $deliveryareaid = '';    if (isset($_POST['deliveryareaid']) && trim($_POST['deliveryareaid']) != '') {        $deliveryareaid = trim($_POST['deliveryareaid']);    }    $error = 0;    $err_msg = '';    $deliverylocationstr = '';    $deliverypincode = '';    if ($deliverycityid == '' || $deliverycityid == 'null') {        $error = 1;        $err_msg = 'Please enter billing city/town';    } elseif ($deliveryareaid == '' || $deliveryareaid == 'null') {        $error = 1;        $err_msg = 'Please enter billing area';    } else {        if ($obj2->chkIfValidCityId($deliverycityid)) {            if ($deliveryareaid == '') {                $deliverylocationstr = $obj2->getTopLocationStr($deliverycityid, $deliveryareaid);            } else {                if ($obj2->chkIfValidAreaId($deliveryareaid)) {                    $deliverylocationstr = $obj2->getTopLocationStr($deliverycityid, $deliveryareaid);                    $deliverypincode = $obj2->getPincodeOfArea($deliveryareaid);                } else {                    $error = 1;                    $err_msg = 'Invalid area';                }            }        } else {            $error = 1;            $err_msg = 'Invalid city';        }    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg . '::::' . $deliverylocationstr . '::::' . $deliverypincode;    echo $ret_str;} elseif ($action == 'doapplydiscountcoupon') {    $discount_coupon = '';    if (isset($_POST['discount_coupon']) && trim($_POST['discount_coupon']) != '') {        $discount_coupon = trim($_POST['discount_coupon']);    }    $error = 0;    $err_msg = '';    if ($discount_coupon != '') {        if ($obj->chkIfValidDiscountCoupon($discount_coupon)) {            // echo "<pre>";print_r($r);echo "</pre>";            if ($obj->doApplyDiscountCoupon($discount_coupon)) {                // echo "<pre>";print_r($discount_coupon);echo "</pre>";                // exit;                $error = 0;                $err_msg = 'coupon applied successfully';            } else {                $error = 1;                $err_msg = 'Something went wrong, Please try again later.';            }        } else {            $error = 1;            $err_msg = 'This coupon is invalid';        }    } else {        $error = 1;        $err_msg = 'Please enter coupon';    }    $ret_str = $test . '::::' . $error . '::::' . $err_msg;    echo $ret_str;}//add by ample 07-05-20elseif($action == 'getboxtitle_DYL'){  $page_cat_id = $_REQUEST['page_cat_id'];  $data_dropdown = $obj -> GETDATADROPDOWNMYDAYTODAYOPTION($page_cat_id, '127');  $show_cat = '';  $fetch_cat1 = array();  $fetch_cat2 = array();  $fetch_cat3 = array();  $fetch_cat4 = array();  $fetch_cat5 = array();  $fetch_cat6 = array();  $fetch_cat7 = array();  $fetch_cat8 = array();  $fetch_cat9 = array();  $fetch_cat10 = array();  if ($data_dropdown[0]['sub_cat1'] != '')  {    if ($data_dropdown[0]['canv_sub_cat1_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat1'].',';    } else    {      $sub_cat1 = explode(',', $data_dropdown[0]['sub_cat1']);      $fetch_cat1 = $obj -> getDataFromReportCustomized($sub_cat1, $data_dropdown[0]['canv_sub_cat1_link'], $data_dropdown[0]['prof_cat1_ref_code'], $data_dropdown[0]['prof_cat1_uid']);    }  }  if ($data_dropdown[0]['sub_cat2'] != '')  {    if ($data_dropdown[0]['canv_sub_cat2_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat2'].',';    } else    {      $sub_cat2 = explode(',', $data_dropdown[0]['sub_cat2']);      $fetch_cat2 = $obj -> getDataFromReportCustomized($sub_cat2, $data_dropdown[0]['canv_sub_cat2_link'], $data_dropdown[0]['prof_cat2_ref_code'], $data_dropdown[0]['prof_cat2_uid']);    }  }  if ($data_dropdown[0]['sub_cat3'] != '')  {    if ($data_dropdown[0]['canv_sub_cat3_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat3'].',';    } else    {      $sub_cat3 = explode(',', $data_dropdown[0]['sub_cat3']);      $fetch_cat3 = $obj -> getDataFromReportCustomized($sub_cat3, $data_dropdown[0]['canv_sub_cat3_link'], $data_dropdown[0]['prof_cat3_ref_code'], $data_dropdown[0]['prof_cat3_uid']);    }  }  if ($data_dropdown[0]['sub_cat4'] != '')  {    if ($data_dropdown[0]['canv_sub_cat4_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat4'].',';    } else    {      $sub_cat4 = explode(',', $data_dropdown[0]['sub_cat4']);      $fetch_cat4 = $obj -> getDataFromReportCustomized($sub_cat4, $data_dropdown[0]['canv_sub_cat4_link'], $data_dropdown[0]['prof_cat4_ref_code'], $data_dropdown[0]['prof_cat4_uid']);    }  }  if ($data_dropdown[0]['sub_cat5'] != '')  {    if ($data_dropdown[0]['canv_sub_cat5_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat5'].',';    } else    {      $sub_cat5 = explode(',', $data_dropdown[0]['sub_cat5']);      $fetch_cat5 = $obj -> getDataFromReportCustomized($sub_cat5, $data_dropdown[0]['canv_sub_cat5_link'], $data_dropdown[0]['prof_cat5_ref_code'], $data_dropdown[0]['prof_cat5_uid']);    }  }  if ($data_dropdown[0]['sub_cat6'] != '')  {    if ($data_dropdown[0]['canv_sub_cat6_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat6'].',';    } else    {      $sub_cat6 = explode(',', $data_dropdown[0]['sub_cat6']);      $fetch_cat6 = $obj -> getDataFromReportCustomized($sub_cat6, $data_dropdown[0]['canv_sub_cat6_link'], $data_dropdown[0]['prof_cat6_ref_code'], $data_dropdown[0]['prof_cat6_uid']);    }  }  if ($data_dropdown[0]['sub_cat7'] != '')  {    if ($data_dropdown[0]['canv_sub_cat7_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat7'].',';    } else    {      $sub_cat7 = explode(',', $data_dropdown[0]['sub_cat7']);      $fetch_cat7 = $obj -> getDataFromReportCustomized($sub_cat7, $data_dropdown[0]['canv_sub_cat7_link'], $data_dropdown[0]['prof_cat7_ref_code'], $data_dropdown[0]['prof_cat7_uid']);    }  }  if ($data_dropdown[0]['sub_cat8'] != '')  {    if ($data_dropdown[0]['canv_sub_cat8_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat8'].',';    } else    {      $sub_cat8 = explode(',', $data_dropdown[0]['sub_cat8']);      $fetch_cat8 = $obj -> getDataFromReportCustomized($sub_cat8, $data_dropdown[0]['canv_sub_cat8_link'], $data_dropdown[0]['prof_cat8_ref_code'], $data_dropdown[0]['prof_cat8_uid']);    }  }  if ($data_dropdown[0]['sub_cat9'] != '')  {    if ($data_dropdown[0]['canv_sub_cat9_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat9'].',';    } else    {      $sub_cat9 = explode(',', $data_dropdown[0]['sub_cat9']);      $fetch_cat9 = $obj -> getDataFromReportCustomized($sub_cat9, $data_dropdown[0]['canv_sub_cat9_link'], $data_dropdown[0]['prof_cat9_ref_code'], $data_dropdown[0]['prof_cat9_uid']);    }  }  if ($data_dropdown[0]['sub_cat10'] != '')  {    if ($data_dropdown[0]['canv_sub_cat10_show_fetch'] == 1)    {      $show_cat.= $data_dropdown[0]['sub_cat10'].',';    } else    {      $sub_cat10 = explode(',', $data_dropdown[0]['sub_cat10']);      $fetch_cat10 = $obj -> getDataFromReportCustomized($sub_cat10, $data_dropdown[0]['canv_sub_cat10_link'], $data_dropdown[0]['prof_cat10_ref_code'], $data_dropdown[0]['prof_cat10_uid']);    }  }  $show_cat = explode(',', $show_cat);  $show_cat = array_filter($show_cat);  $final_array = array_merge($fetch_cat1, $fetch_cat2, $fetch_cat3, $fetch_cat4, $fetch_cat5, $fetch_cat6, $fetch_cat7, $fetch_cat8, $fetch_cat9, $fetch_cat10);  $final_dropdown = $obj -> CreateDesignLifeDropdowns($show_cat, $final_array);  $html='';  $html.='<div class="col-md-12" style="max-height: 500px;overflow: auto;">         <table class="table">';  if($final_dropdown)  {             $html.='<tbody>';        foreach ($final_dropdown as $key => $value) {            $html.='<tr>';            $html.='<td>'.$value.'</td>';            $html.='</tr>';        }        $html.='<tbody>';  }  else  {        $html.='<tbody>';            $html.='<tr>';            $html.='<td>Sorry no data found!</td>';            $html.='</tr>';        $html.='<tbody>';  }  $html.='</table></div>';  echo $html;}//add by ample 07-05-20elseif($action == 'openExampleBox'){           $data_id = $_REQUEST['data_id'];        $type_id = $_REQUEST['type_id'];        $design_my_life_data = $obj -> GetDesignYourLifeData($data_id);            if($type_id=='QR')            {               $data_source=explode(',', $design_my_life_data['qr_data_source']);             }            else            {                $data_source=explode(',', $design_my_life_data['other_data_source']);            }                                $data_dropdown="";                if(in_array('ProfCat2', $data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat2'], $design_my_life_data['sub_cat2_show_fetch'], $design_my_life_data['sub_cat2_link'], $design_my_life_data['prof_cat2_ref_code'], $design_my_life_data['prof_cat2_uid']);                }                if(in_array('ProfCat3', $data_source))                {                    $data_dropdown.=$obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat3'], $design_my_life_data['sub_cat3_show_fetch'], $design_my_life_data['sub_cat3_link'], $design_my_life_data['prof_cat3_ref_code'], $design_my_life_data['prof_cat3_uid']);                }                if(in_array('ProfCat4', $data_source))                {                    $data_dropdown.= $obj->GetDesignMyLifeDrop($design_my_life_data['sub_cat4'], $design_my_life_data['sub_cat4_show_fetch'], $design_my_life_data['sub_cat4_link'], $design_my_life_data['prof_cat4_ref_code'], $design_my_life_data['prof_cat4_uid']);                }          $html='';      $html.='<div class="col-md-12" style="max-height: 500px;overflow: auto;">';      if($data_dropdown)      {                  $html.='<p>'.$data_dropdown.'</p>';      }      else      {            $html.='<p>Sorry no data found!</p>';      }      $html.='</div>';      echo $html;}?>